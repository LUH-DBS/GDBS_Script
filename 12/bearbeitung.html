
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>12. Bearbeitung &#8212; Online-Skript Grundlagen der Datenbanksysteme</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="11. Transaktionsmanagement" href="../11/transaktionen.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/DBIS_Kurzlogo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Online-Skript Grundlagen der Datenbanksysteme</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Grundlagen der Datenbanksysteme
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../01/einfuehrung.html">
   1. Einführung
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02/historie.html">
   2. Historie
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../03/architektur.html">
   3. Architektur
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../04/phasenmodell_datenbankentwurf.html">
   4. Phasenmodell für den Datenbankentwurf
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../05/er_modellierung.html">
   5. ER-Modellierung
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../06/relationaler_entwurf.html">
   6. Relationaler Entwurf
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../07/normalisierung.html">
   7. Normalisierung
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../08/relationale_algebra.html">
   8. Relationale Algebra
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../09/sql.html">
   9. SQL
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../10/integritaet_und_trigger.html">
   10. Integrität und Trigger
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../11/transaktionen.html">
   11. Transaktionsmanagement
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   12. Bearbeitung
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/LUH-DBS/GDBS_Script/main/?urlpath=tree/12/bearbeitung.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        
<button onclick="initThebeSBT()"
  class="headerbtn headerbtn-launch-thebe"
  data-toggle="tooltip"
data-placement="left"
title="Launch Thebe"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="headerbtn__text-container">Live Code</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/LUH-DBS/GDBS_Script"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/LUH-DBS/GDBS_Script/issues/new?title=Issue%20on%20page%20%2F12/bearbeitung.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/12/bearbeitung.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#parsen-der-anfrage">
   12.1. Parsen der Anfrage
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#syntaxanalyse">
     12.1.1. Syntaxanalyse
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#eine-grammatik-fur-einen-teil-von-sql">
     12.1.2. Eine Grammatik für einen Teil von SQL
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parse-baum">
     12.1.3. Parse-Baum
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#prufung-der-semantik">
     12.1.4. Prüfung der Semantik
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#vom-parse-baum-zum-operatorbaum">
     12.1.5. Vom Parse-Baum zum Operatorbaum
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#transformationsregeln-der-ra">
   12.2. Transformationsregeln der RA
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#anfragebearbeitung-transformationsregeln">
     12.2.1. Anfragebearbeitung – Transformationsregeln
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#anfragebearbeitung-beispiel">
     12.2.2. Anfragebearbeitung – Beispiel
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kommutativitat-und-assoziativitat">
     12.2.3. Kommutativität und Assoziativität
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#weitere-regeln">
     12.2.4. Weitere Regeln
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#optimierung">
   12.3. Optimierung
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#anfragebearbeitung-optimierung">
     12.3.1. Anfragebearbeitung - Optimierung
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#logische-und-physische-optimierung">
     12.3.2. Logische und physische Optimierung
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#logische-optimierung-regelbasiert">
     12.3.3. Logische Optimierung – regelbasiert
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#anwendung-der-transformationsregeln">
     12.3.4. Anwendung der Transformationsregeln
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aufspalten-der-selektionspradikate">
     12.3.5. Aufspalten der Selektionsprädikate
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#verschieben-der-selektionspradikate-pushing-selections">
     12.3.6. Verschieben der Selektionsprädikate „Pushing Selections“
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#zusammenfassung-von-selektionen-und-kreuzprodukten-zu-joins">
     12.3.7. Zusammenfassung von Selektionen und Kreuzprodukten zu Joins
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#optimierung-der-joinreihenfolge-kommutativitat-und-assoziativitat-ausnutzen">
     12.3.8. Optimierung der Joinreihenfolge: Kommutativität und Assoziativität ausnutzen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#was-hat-s-gebracht">
     12.3.9. Was hat´s gebracht?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#einfugen-von-projektionen">
     12.3.10. Einfügen von Projektionen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sqlite-explain">
     12.3.11. SQLite Explain
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#kostenmodelle">
   12.4. Kostenmodelle
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kostenbasierte-optimierung">
     12.4.1. Kostenbasierte Optimierung
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problemgrosze-suchraum">
     12.4.2. Problemgröße (Suchraum)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kostenmodell">
     12.4.3. Kostenmodell
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#statistiken">
     12.4.4. Statistiken
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kosten-von-operationen">
     12.4.5. Kosten von Operationen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#selektivitat">
     12.4.6. Selektivität
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#selektivitat-schatzen">
       12.4.6.1. Selektivität schätzen
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#selinger-style-optimization">
     12.4.7. Selinger-style“ Optimization
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#join-selektivitat-selinger-style">
     12.4.8. Join Selektivität (Selinger Style)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#modelle-zum-besseren-schatzen-der-selektivitat">
     12.4.9. Modelle zum besseren Schätzen der Selektivität
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#beispiel-zu-histogrammen">
     12.4.10. Beispiel zu Histogrammen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kosten-weitere-komplikationen">
     12.4.11. Kosten – Weitere Komplikationen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ausblick-auf-dbs-ii">
     12.4.12. Ausblick auf DBS II
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#multiple-choice">
   12.5. Multiple Choice
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Bearbeitung</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#parsen-der-anfrage">
   12.1. Parsen der Anfrage
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#syntaxanalyse">
     12.1.1. Syntaxanalyse
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#eine-grammatik-fur-einen-teil-von-sql">
     12.1.2. Eine Grammatik für einen Teil von SQL
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parse-baum">
     12.1.3. Parse-Baum
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#prufung-der-semantik">
     12.1.4. Prüfung der Semantik
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#vom-parse-baum-zum-operatorbaum">
     12.1.5. Vom Parse-Baum zum Operatorbaum
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#transformationsregeln-der-ra">
   12.2. Transformationsregeln der RA
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#anfragebearbeitung-transformationsregeln">
     12.2.1. Anfragebearbeitung – Transformationsregeln
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#anfragebearbeitung-beispiel">
     12.2.2. Anfragebearbeitung – Beispiel
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kommutativitat-und-assoziativitat">
     12.2.3. Kommutativität und Assoziativität
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#weitere-regeln">
     12.2.4. Weitere Regeln
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#optimierung">
   12.3. Optimierung
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#anfragebearbeitung-optimierung">
     12.3.1. Anfragebearbeitung - Optimierung
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#logische-und-physische-optimierung">
     12.3.2. Logische und physische Optimierung
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#logische-optimierung-regelbasiert">
     12.3.3. Logische Optimierung – regelbasiert
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#anwendung-der-transformationsregeln">
     12.3.4. Anwendung der Transformationsregeln
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aufspalten-der-selektionspradikate">
     12.3.5. Aufspalten der Selektionsprädikate
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#verschieben-der-selektionspradikate-pushing-selections">
     12.3.6. Verschieben der Selektionsprädikate „Pushing Selections“
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#zusammenfassung-von-selektionen-und-kreuzprodukten-zu-joins">
     12.3.7. Zusammenfassung von Selektionen und Kreuzprodukten zu Joins
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#optimierung-der-joinreihenfolge-kommutativitat-und-assoziativitat-ausnutzen">
     12.3.8. Optimierung der Joinreihenfolge: Kommutativität und Assoziativität ausnutzen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#was-hat-s-gebracht">
     12.3.9. Was hat´s gebracht?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#einfugen-von-projektionen">
     12.3.10. Einfügen von Projektionen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sqlite-explain">
     12.3.11. SQLite Explain
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#kostenmodelle">
   12.4. Kostenmodelle
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kostenbasierte-optimierung">
     12.4.1. Kostenbasierte Optimierung
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problemgrosze-suchraum">
     12.4.2. Problemgröße (Suchraum)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kostenmodell">
     12.4.3. Kostenmodell
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#statistiken">
     12.4.4. Statistiken
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kosten-von-operationen">
     12.4.5. Kosten von Operationen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#selektivitat">
     12.4.6. Selektivität
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#selektivitat-schatzen">
       12.4.6.1. Selektivität schätzen
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#selinger-style-optimization">
     12.4.7. Selinger-style“ Optimization
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#join-selektivitat-selinger-style">
     12.4.8. Join Selektivität (Selinger Style)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#modelle-zum-besseren-schatzen-der-selektivitat">
     12.4.9. Modelle zum besseren Schätzen der Selektivität
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#beispiel-zu-histogrammen">
     12.4.10. Beispiel zu Histogrammen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kosten-weitere-komplikationen">
     12.4.11. Kosten – Weitere Komplikationen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ausblick-auf-dbs-ii">
     12.4.12. Ausblick auf DBS II
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#multiple-choice">
   12.5. Multiple Choice
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="bearbeitung">
<h1><span class="section-number">12. </span>Bearbeitung<a class="headerlink" href="#bearbeitung" title="Permalink to this headline">#</a></h1>
<p>-&gt; dieses Thema (‘Bearbeitung’) ist zurzeit in Bearbeitung</p>
<p><strong>Anfragebearbeitung – Grundproblem</strong></p>
<ul class="simple">
<li><p>Anfragen sind deklarativ. sagen was wir wollen und nicht wie wir unsere Daten extrahieren. Das würde durch beispielsweise ein Programm das wir schreiben geschehen -&gt; Python Programm geht durch CSV-Datei. Stattdessen sagen wir: Gebe mir alle Filme, die im Jahr 1996 produziert werden. Das Datenbanksystem findet von selbst heraus wie es diese Frage beantwortet. Dafür werden die Anfragen in aus…</p></li>
<li><p>SQL, Relationale Algebra
<br><br></p></li>
<li><p>Anfragen müssen in ausführbare (prozedurale) Form transformiert werden.</p></li>
<li><p>Ziele</p></li>
<li><p>Das nennt man „QEP“ – prozeduraler Query Execution Plan</p></li>
<li><p>Wichtig hierbei ist, dass die Darstellung/das Programm eff…</p></li>
<li><p>Effizienz</p></li>
<li><p>Schnell</p></li>
<li><p>Wenig Ressourcenverbrauch (CPU, I/O, RAM, Bandbreite)</p></li>
<li><p>Das alles wirkt sich auf den Energieverbrauch aus.</p></li>
</ul>
<p><strong>Ablauf der Anfragebearbeitung</strong>
Zunächst haben wir unsere Anfrage:
SELECT * FROM x WHERE …;</p>
<ol>
<li><p>Parsing
<br><br>
Parsen der Anfrage (Syntax)
<br>
Überprüfen der Elemente („Semantik“) -&gt; Semantik wird überprüft
<br>
Parsebaum wird erstellt
<br><br>
Vor allem wird hierbei herausgefunden ob diese Anfrage stimmt und auf welche Operationselemente abgebildet wird.</p></li>
<li><p>Wahl des logischen Anfrageplans -&gt; logischer Anfrageplan wird ausgewählt
<br><br>
Dieser ist in der Regel ein Baum mit logischen Operatoren
<br>
Es gibt Potentiell exponentiell viele Pläne, die man anhand der Elemente, die man in der Anfrage hat, erstellen kann. Natürlich lassen sich bestimme Kombis nicht darstellen. Grundproblem ist auch NP-Vollständig.
<br>
Wahl des optimalen Plans –
Dabei gibt es verschiedene Optimierungsverfahren:
Logische Optimierung -&gt; Operatoren werden einfach hin- und hergeschoben</p>
<p>Regelbasierter Optimierer
Kostenbasierter Optimierer
Diese basieren auf den Kosten der jeweiligen Operationen in den Anfragen.
<br><br></p>
</li>
<li><p>Wahl des physischen Anfrageplans
Für jede Operation, die momentan noch in deklarativer Form ist, muss nun eine Prozedur/ein Programm mit physi… ausgewählt werden
<br><br>
Ausführbar
<br>
…Programm mit physischen Operatoren –
Dies sind unter anderem die Algorithmen, die Scan Operatoren oder auch die JOIN-Implementierungen.
<br>
Wahl des optimalen Plans – physische Optimierung
<br><br></p></li>
</ol>
<p><img alt="title" src="../_images/ablauf_anfragebearbeitung.jpg" /></p>
<section id="parsen-der-anfrage">
<h2><span class="section-number">12.1. </span>Parsen der Anfrage<a class="headerlink" href="#parsen-der-anfrage" title="Permalink to this headline">#</a></h2>
<section id="syntaxanalyse">
<h3><span class="section-number">12.1.1. </span>Syntaxanalyse<a class="headerlink" href="#syntaxanalyse" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Aufgabe: Umwandlung einer SQL Anfrage in einen Parsebaum.</p></li>
<li><p>Atome (Blätter) sind:</p>
<ul>
<li><p>Schlüsselworte</p></li>
<li><p>Konstanten</p></li>
<li><p>Namen (Relationen und Attribute)</p></li>
<li><p>Syntaxzeichen</p></li>
<li><p>Operatoren
<br><br>
Man kann auch Teilausdrücke zu Kategorien zusammenfassen. Beispielsweise bei einer VIEW.</p></li>
</ul>
</li>
<li><p>Syntaktische Kategorien</p></li>
<li><p>Namen für Teilausdrücke einer Anfrage</p></li>
</ul>
</section>
<section id="eine-grammatik-fur-einen-teil-von-sql">
<h3><span class="section-number">12.1.2. </span>Eine Grammatik für einen Teil von SQL<a class="headerlink" href="#eine-grammatik-fur-einen-teil-von-sql" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Anfragen bestehehn immer aus einer Struktur.</p></li>
<li><p>SFW steht für “SELECT FROM WHERE”</p>
<ul>
<li><p><Anfrage> :: = &lt;SFW&gt;</p></li>
<li><p><Anfrage> :: = ( <SFW> )</p></li>
<li><p>Mengenoperatoren fehlen
das kann auch eine Menge von Operatoren darstellen.
<br><br></p></li>
</ul>
</li>
<li><p>SFWs werden wie folgt aufgebaut:</p></li>
<li><p><SFW> ::= SELECT <SelListe> FROM <FromListe> WHERE <Bedingung></p>
<ul>
<li><p>die SelListe (SelectListe) enthält die Attribute, die herausprojeziert werden.</p></li>
<li><p>die FromListe enthält die Relationen aus denen wir die Attribute herausholen</p></li>
<li><p>eine Bedingung…</p></li>
</ul>
</li>
<li><p>Gruppierung, Sortierung etc. fehlen
<br><br></p></li>
<li><p>Listen
Es handelt sich hier um Grammatiken. Diese sind formal festgelegt. Es können keine Anfragen formuliert werden, die nicht der Grammatik entsprechen.
Dabei ergibt sich eine SelListe aus einem Attribut und einer anderen SelListe bzw. nur aus einem Attribut…</p></li>
<li><p><SelListe> ::= <Attribut>, <SelListe>
□ <SelListe> ::= <Attribut>
Die FromListe ergibt…
□ <FromListe> ::= <Relation>, <FromListe>
□ <FromListe> ::= <Relation>
<br><br>
■ Bedingungen (Beispiele)
Verknüpfung/Kombinationen von Bedingungen mit AND
□ <Bedingung> ::= <Bedingung> AND <Bedingung>
Eine Bedingung kann auch eine Anfrage sein, bei der man eine Überprüfung in einer anderen Anfrage anfordert.
□ <Bedingung> ::= <Tupel> IN <Anfrage>
□ <Bedingung> ::= <Attribut> = <Attribut>
□ <Bedingung> ::= <Attribut> LIKE <Muster>
<br><br>
■ Die Inhalte von Tupeln … <Tupel>, <Attribut>, <Relation>, <Muster> sind nicht durch grammatische Regel definiert. Entweder sie existieren oder sie existieren nicht. Angenommen man wählt eine Relation aus, die nicht existiert, dann wird von der Datenbank zurückgegeben, dass diese es diese Relation nicht gibt.
<br><br></p></li>
<li><p>Vollständig z.B. hier: <a class="reference external" href="http://docs.openlinksw.com/virtuoso/GRAMMAR.html">http://docs.openlinksw.com/virtuoso/GRAMMAR.html</a></p></li>
</ul>
</section>
<section id="parse-baum">
<h3><span class="section-number">12.1.3. </span>Parse-Baum<a class="headerlink" href="#parse-baum" title="Permalink to this headline">#</a></h3>
<p><img alt="" src="../_images/parsebaum.jpg" /></p>
<p>In diesem Bild sieht man den Aufbau eines Parsebaums. Dabei besteht die Anfrage aus SFW. Dieses wiederrum kann unterteilt werden in SELECT, &lt;…</p>
<p>Alle Konstanten und Relationsnamen sind in den Blattstrukturen</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>SELECT Titel
FROM spielt_in, Schauspieler
WHERE SchauspielerName = Name
AND Geburtstag LIKE ‘%1960’;
</pre></div>
</div>
</section>
<section id="prufung-der-semantik">
<h3><span class="section-number">12.1.4. </span>Prüfung der Semantik<a class="headerlink" href="#prufung-der-semantik" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Während der Übersetzung semantische Korrektheit prüfen</p></li>
<li><p>Existieren die Relationen und Sichten der FROM Klausel?</p></li>
<li><p>Existieren die Attribute in den genannten Relationen?</p></li>
<li><p>Sind sie eindeutig?</p></li>
<li><p>Korrekte Typen für Vergleiche? (bsp.: Vergleicht man einen Integer mit einem String usw.</p></li>
<li><p>Aggregation korrekt?</p></li>
<li><p>…</p></li>
</ul>
<p>Am Ende erhält man einen Parsebaum. Dieser wird im nächsten Schritt in einen Operatorbaum umgewandelt. Dargestellt werden kann der Operatorbaum mittels Relationaler Algebra. Dabei entspricht das SELECT einer Projektion und das WHERE einer Selektion. FROM spielt_in, Schauspieler wird hierbei als Kreuzprodukt der beiden Relationen dargestellt.
Somit haben wir aus den Schlüsselwörtern konkrete Operatoren bekommen, die nun deutlich besser sichtbar sind. Man weiß nun, dass spielt_in und Schauspieler durch ein Kreuzprodukt kombiniert werden. Diese beiden Relationen sind der Input des Kreuzprodukts. Auf dem Output wird findet dananch eine Selektion statt und auf dessen Output letztendlich wieder eine Projektion.</p>
</section>
<section id="vom-parse-baum-zum-operatorbaum">
<h3><span class="section-number">12.1.5. </span>Vom Parse-Baum zum Operatorbaum<a class="headerlink" href="#vom-parse-baum-zum-operatorbaum" title="Permalink to this headline">#</a></h3>
<p><img alt="" src="../_images/operatorbaum.jpg" /></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>SELECT Titel
FROM spielt_in, Schauspieler
WHERE SchauspielerName = Name
AND Geburtstag LIKE ‘%1960’;
</pre></div>
</div>
</section>
</section>
<section id="transformationsregeln-der-ra">
<h2><span class="section-number">12.2. </span>Transformationsregeln der RA<a class="headerlink" href="#transformationsregeln-der-ra" title="Permalink to this headline">#</a></h2>
<p>Zuvor haben wir gesehen, dass es für jede Anfrage verschiedene Pläne gibt. Das bedeutet also auch, dass es verschiedene Operatorenbäume gibt. Somit kann man also verschiedene Anfragen ineinander transformieren. Dies wird anhand der Transformationseregeln der Relationalen Algebra dargestellt.</p>
<section id="anfragebearbeitung-transformationsregeln">
<h3><span class="section-number">12.2.1. </span>Anfragebearbeitung – Transformationsregeln<a class="headerlink" href="#anfragebearbeitung-transformationsregeln" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Transformation der internen Darstellung</p></li>
<li><p>Ohne Semantik zu verändern
Damit ist gemeint, dass die Operatorenbäume nach der Transformation immernoch die gleiche Anfrage wie vor der Transformation beantworten können/ es kommt das selbe Ergebnis bei raus.</p></li>
<li><p>Zur effizienteren Ausführung
generell ist das Ziel eine effizientere Ausführung zu finden
die Operatoren sollen möglichst kleine Zwischenergebnisse liefern, sodass der nächste Operator als Input auch auf möglichst kleinen Mengen von Tupeln arbeiten muss.</p></li>
<li><p>Insbesondere: Kleine Zwischenergebnisse
<br><br>
Um diese Transformation zu vollführen, müssen erst einmal äquivalente Ausdrücke identifiziert werden.</p></li>
<li><p>Äquivalente Ausdrücke</p></li>
<li><p>Zwei Ausdrücke der relationalen Algebra heißen äquivalent, falls</p></li>
<li><p>Gleiche Operanden (= Relationen)</p></li>
<li><p>Stets gleiche Antwortrelation</p></li>
<li><p>Stets? bedeutet hierbei, dass es nicht per Zufall die gleichen Ergebnisse bei zwei Anfragen sind. Es müssen immer die gleichen Ergbnisse herauskommen Für jede mögliche Instanz derDatenbank
<br></p></li>
</ul>
</section>
<section id="anfragebearbeitung-beispiel">
<h3><span class="section-number">12.2.2. </span>Anfragebearbeitung – Beispiel<a class="headerlink" href="#anfragebearbeitung-beispiel" title="Permalink to this headline">#</a></h3>
<p>Beispielsweise wollen wir hier den Nachnamen projezieren. Dafür erstellen wir das Kreuzprodukt zwischen den Relationen ‘mitarbeiter’ und ‘projekte’. Darauf selektieren wir alle Paare bei denen die Mitarbeiter-ID gleich der Projekt-ID sind und zusätzlich sortieren wir die Projekte aus, die ein gleiches oder größeres Budget als 40000 haben.<br />
<img alt="" src="../_images/anfragebearbeitung_bsp1.jpg" /></p>
<p>Nun kann man sich überlegen wo man noch früher Tupel herausfiltern kann. Eine Möglichkeit wäre es die Selektion mit dem Kreuzprodukt zu einem Join zu kombinieren.
Eine weitere Möglichkeit wäre es die übrig gebliebenen Selektion früher durchzuführen. Noch bevor man das Kreuzprodukt der beiden Relationen bildet, kann man die Selektion ‘p.Budget &lt; 40000’ auf der ‘projekt’ Relation ausführen. Nun kann man erwarten, dass der nachfolgende Join auf einer kleineren Tupelmenge ausgeführt wird.
<img alt="" src="../_images/anfragebearbeitung_bsp2.jpg" /></p>
</section>
<section id="kommutativitat-und-assoziativitat">
<h3><span class="section-number">12.2.3. </span>Kommutativität und Assoziativität<a class="headerlink" href="#kommutativitat-und-assoziativitat" title="Permalink to this headline">#</a></h3>
<p>Die Kommutativität und Assoziativität gelten insbesondere für Mengenoperationen.
… ist eine abstrakte Operation
ist kommutativ und assoziativ
<br>
R  S = S  R –&gt; kommutativ
<br>
(R  S)  T = R  (S  T) –&gt; assoziativ
<br><br>
<span class="math notranslate nohighlight">\(\cup\)</span> ist kommutativ und assoziativ
<br>
R <span class="math notranslate nohighlight">\(\cup\)</span> S = S <span class="math notranslate nohighlight">\(\cup\)</span> R
<br>
(R <span class="math notranslate nohighlight">\(\cup\)</span> S) <span class="math notranslate nohighlight">\(\cup\)</span> T = R <span class="math notranslate nohighlight">\(\cup\)</span> (S <span class="math notranslate nohighlight">\(\cup\)</span> T)
<br><br>
<span class="math notranslate nohighlight">\(\cap\)</span> ist kommutativ und assoziativ
<br>
R <span class="math notranslate nohighlight">\(\cap\)</span> S = S <span class="math notranslate nohighlight">\(\cap\)</span> R
<br>
(R <span class="math notranslate nohighlight">\(\cap\)</span> S) <span class="math notranslate nohighlight">\(\cap\)</span> T = R <span class="math notranslate nohighlight">\(\cap\)</span> (S <span class="math notranslate nohighlight">\(\cap\)</span> T)
<br><br>
⋈ ist kommutativ und assoziativ
<br>
R ⋈ S = S ⋈ R
<br>
(R ⋈ S) ⋈ T = R ⋈ (S ⋈ T)
Bei einem Join kann es passieren, dass die Spaltenreihenfolge anders ist, aber diese kann nachträglich noch geändert werden (bspw. mit einer Projektion).
<br><br>
Gilt jeweils für Mengen und Multimengen
<br><br>
Ausdrücke können in beide Richtungen verwendet</p>
</section>
<section id="weitere-regeln">
<h3><span class="section-number">12.2.4. </span>Weitere Regeln<a class="headerlink" href="#weitere-regeln" title="Permalink to this headline">#</a></h3>
<p>Selektion
Wenn man eine Selektion mit zwei Bedingungen hat, kann man das in zwei Selektionen, die aufeinander aufbauen, kaskadieren.</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\sigma_{c1 AND c2}(R ) = \sigma_{c1}(\sigma_{c2} (R))\)</span>
Wenn man eine Selektion mit einem OR hat kann man davon die Vereinigung bilden.
Problem bei Multimengen:
c1 or c2 -&gt; damit sagt man, gebe mir jedes Tupel egal ob Bedingung c1, c2 oder beide gelten. Man würde bei der Vereinigung jetzt aber eine andere Anzahl an Tupeln bekommen. Bei den Fällen bei denen beide Bedingungen gelten, würde es das Tupel doppelt geben.</p></li>
<li><p><span class="math notranslate nohighlight">\(\sigma_{c1 OR c2}(R ) = \sigma_{c1}(R) \cup \sigma_{c2} (R)\)</span></p></li>
<li><p>Nicht bei Multimengen</p></li>
</ul>
<p>Die äußere Bedigung kann mit der inneren Bedingung vertauscht werden. Dabei kann man überlegen welche Bedingung evenutell günstiger ist zuerst auszuführen.</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\sigma_{c1}(\sigma_{c2}(R)) = \sigma_{c2}(\sigma_{c1}(R))\)</span>
Eine Bedinugung, die auf einen Join ausgeführt wird, kann wie folgt umgeformt werden:</p></li>
<li><p><span class="math notranslate nohighlight">\(\sigma_{c}(R \Phi S) \equiv (\sigma_{c} (R)) \Phi (\sigma_{c} (S))\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\Phi \in \{\cup, \cap , - , ⋈\}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\sigma_{c}(R \Phi S) \equiv (\sigma_{c} (R)) \Phi S\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\Phi \in \{\cup, \cap , - , ⋈\}\)</span></p></li>
<li><p>Falls sich c nur auf Attribute in R bezieht, kann man es so umformen, dass sich die Selektion nur auf die Relation R bezieht.
<br><br>
Projektion
Eine Projektion einer Spalte auf einem Join zweier Relationen kann einer Projektion einer Spalte auf einem Join zweier Projektionen auf jeweils einer Relation entsprechen.</p></li>
<li><p><span class="math notranslate nohighlight">\(\pi_{L}(R ⋈ S) = \pi_{L}(\pi_{M}(R) ⋈ \pi_{N}(S))\)</span>
Genauso kann nun auch bei einem Join mit Bedingung und einem Kreuzprodukt vorgegangen werden.</p></li>
<li><p><span class="math notranslate nohighlight">\(\pi_{L}(R ⋈_{C} S) = \pi{L}(\pi_{M}(R) ⋈_{C} \pi_{N}(S))\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\pi_{L}(R \times S) = \pi_{L}(\pi_{M}(R) \times \pi_{N}(S))\)</span>
Hierbei kann eine Projektion noch vor die Selektion geschoben werden. Wichtig dabei ist, dass die neue Projektion (<span class="math notranslate nohighlight">\(\pi_{M}\)</span>) L enthält. Es können auch weitere Projektionen hinzugefügt werden. Solange sie L enthalten, verändert sich nichts.</p></li>
<li><p><span class="math notranslate nohighlight">\(\pi_{L}(\sigma_{C}(R)) = \pi_{L}(\sigma_{C}(\pi_{M}(R)))\)</span></p></li>
</ul>
</section>
</section>
<section id="optimierung">
<h2><span class="section-number">12.3. </span>Optimierung<a class="headerlink" href="#optimierung" title="Permalink to this headline">#</a></h2>
<section id="anfragebearbeitung-optimierung">
<h3><span class="section-number">12.3.1. </span>Anfragebearbeitung - Optimierung<a class="headerlink" href="#anfragebearbeitung-optimierung" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Regelbasierte Optimierung</p></li>
<li><p>Fester Regelsatz schreibt Transformationen gemäß der genannten Regeln vor. Man geht davon aus, dass diese Transformationen die Anfrage schneller bearbeiten.
Ein Beispiel ist das ‘pushen’ einer Selektion nach unten im Anfragebaum.</p></li>
<li><p>Prioritäten unter den Regeln werden durch Heuristiken bestimmt. Es ist nach Erfahrung der beste Weg, dies muss aber nicht immer der Fall sein.
<br><br></p></li>
<li><p>Kostenbasierte Optimierung</p></li>
<li><p>Für jede Relation, die man hat, kann man ein Kostenmodell aufstellen basierend auf Statistiken, die das Datenbankmodell gesammelt hat.</p></li>
<li><p>Transformationen um Kosten zu verringern</p></li>
<li><p>Dann wird ein optimaler Plan bestimmt, bei dem die Kosten minimal sind.
-( Bestimmung der optimalen Joinreihenfolge)
<br><br></p></li>
<li><p>Im Allgemeinen wird nicht die optimale Auswertungsstrategie gesucht, sondern eine einigermaßen effiziente Variante. Sie soll uns dabei helfen den schlimmsten Fall zu verhindern.</p></li>
<li><p>Ziel: Avoid the worst case.</p></li>
</ul>
</section>
<section id="logische-und-physische-optimierung">
<h3><span class="section-number">12.3.2. </span>Logische und physische Optimierung<a class="headerlink" href="#logische-und-physische-optimierung" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Logische Optimierung</p></li>
<li><p>Jeder Ausdruck im Anfragebaum kann in viele verschiedene, semantisch äquivalente Ausdrücke umgeschrieben werden anhand unserer Transformationsregeln.</p></li>
<li><p>Wähle den (hoffentlich) besten Ausdruck (=Plan, =QEP -&gt; QueryExecutionPlan)
<br><br></p></li>
<li><p>Physische Optimierung</p></li>
<li><p>Für jede relationale Operation gibt es viele verschiedene Implementierungen:
wie man zum Beispiel auf Tabellen zugreift. Das kann ein Scan, verschiedene Indizes, ein sortierter Zugriff, etc. sein.</p></li>
<li><p>Genauso bei Joins kann man auch verschiedene Implementierungen wie Nested loop, sort-merge, hash, etc. wählen.</p></li>
<li><p>Daraus wählt man für jede Operation die (hoffentlich) beste Implementierung aus.
<br><br></p></li>
<li><p>Es kann nun sein, dass die logische von der physischen Optimierung abhängt. (Abhängigkeit beider Probleme!)
Nun kann man sagen, dass ein bestimmter Plan besser funktioniert, wenn man einen Nested-Loop-Join durchführt. Also wenn man die eine Schleife innerhalb der anderen hat, kann man in der einen Schleifen bereits etwas anderes mitprüfen. Das würde einem bestimmten logischen Plan besser entsprechen.</p></li>
</ul>
</section>
<section id="logische-optimierung-regelbasiert">
<h3><span class="section-number">12.3.3. </span>Logische Optimierung – regelbasiert<a class="headerlink" href="#logische-optimierung-regelbasiert" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Grundsätze der logischen Optimierung</p></li>
<li><p>Selektionen so weit wie möglich im Baum nach unten schieben.</p></li>
<li><p>Selektionen mit AND können aufgeteilt und separat verschoben werden.</p></li>
<li><p>Projektionen so weit wie möglich im Baum nach unten schieben,</p></li>
<li><p>bzw. neue Projektionen können eingefügt werden.
–&gt; Unterschied zwischen dem nach unten Verschieben bei Selektionen und Projektionen: Bei dem Verschieben von Selektionen geht es darum die Menge an Tupeln zu verringern. Bei Projektionen versucht man die Anzahl der Spalten zu verringern.
Beides ist sinnvoll, da man davon ausgehen muss, dass bei riesigen Datensätzen eine Spalte unter Anderem mehrere Gigabyte groß sein kann. Wenn man solche Spalten nicht unbedingt mehr mitschleppen muss, macht man das Programm effizienter.</p></li>
<li><p>Duplikateliminierung kann manchmal entfernt werden oder verschoben werden.</p></li>
<li><p>Kreuzprodukte mit geeigneten Selektionen zu einem Join zusammenfassen. Man möchte möglichst vermeiden Kreuzprodukte durchzuführen, stattdessen kann man eher Joins mit effizienteren Implementierungen durchführen.
<br><br></p></li>
<li><p>Noch nicht hier: Suche nach der optimalen Joinreihenfolge
<br><br></p></li>
</ul>
</section>
<section id="anwendung-der-transformationsregeln">
<h3><span class="section-number">12.3.4. </span>Anwendung der Transformationsregeln<a class="headerlink" href="#anwendung-der-transformationsregeln" title="Permalink to this headline">#</a></h3>
<p>Die folgende Anfrage ist von Prof. Alfons Kemper (TU München).
Bei der Anfrage suchen wir eindeutig alle Semester in denen für Studenten, hören, Vorlesungen und Professoren folgenden Bedingungen gelten:
Der Professor heißt mit Namen Sokrates. Dieser Professor soll Vorlesungen halten und diese sollen von Studierenden gehört werden.
Also man möchte wissen: In welchen Semestern sind die Studierenden, die Vorlesungen bei Sokrates hören?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>select distinct s.Semester
from Studiernden s, hören h
Vorlesungen v,
Professorinnen p
where p.Name = ´Sokrates´
and v.gelesenVon = p.PersNr
and v.VorlNr = h.VorlNr
and h.MatrNr = s.MatrNr
</pre></div>
</div>
<p>Zunächst hat man eine Darstellung bei der es ein Kreuzprodukt aller Relationen gibt. Dann kommen die aneinandergereihten Selektionsoperatoren. Man kann direkt merken, dass dies nicht die logisch effizienteste Variante ist.</p>
<p><img alt="" src="../_images/transformationsregeln.jpg" /></p>
</section>
<section id="aufspalten-der-selektionspradikate">
<h3><span class="section-number">12.3.5. </span>Aufspalten der Selektionsprädikate<a class="headerlink" href="#aufspalten-der-selektionspradikate" title="Permalink to this headline">#</a></h3>
<p>Das erste was wir machen, ist das Aufspalten der Selektion. Dadurch haben wir alles als einzelne Operation. Nun können wir uns für den nächsten Schritt überlegen, wo es effizienter wäre die Selektionen zu platzieren.</p>
<p><img alt="" src="../_images/aufspalten_selektionspraedikate.jpg" /></p>
</section>
<section id="verschieben-der-selektionspradikate-pushing-selections">
<h3><span class="section-number">12.3.6. </span>Verschieben der Selektionsprädikate „Pushing Selections“<a class="headerlink" href="#verschieben-der-selektionspradikate-pushing-selections" title="Permalink to this headline">#</a></h3>
<p>Um die Anzahl der Tupel zu verringern schiebt man die Selektionen weiter nach unten.</p>
<p>Um die Anzahl der Studierenden, die eine Vorlesung hören, zu verringern hat man direkt nach dem Kreuzprodukt zwischen den beiden Relationen ‘studierende’ und ‘hören’ die Selektion platziert.
Die kleinere Menge an Tupeln als output wird dann wieder wie zuvor über das Kreuzprodukt mit ‘Vorlesungen’ kombiniert. Direkt danach reduziert man mit einer Selektion die Anzahl der Tupel wieder bevor man ein weiteres Kreuzprodukt bildet.
Ansonsten haben wir direkt vor die Professorentabelle die Selektion mit der Bedingung, dass der Name des Professors Sokrates sein soll, geschoben. Somit erhalten wir als Ouptut nach der Selektion nur ein Tupel und müssen nicht mehr alle Professorentupel mitführen.</p>
<p><img alt="" src="../_images/verschieben_selektionspraedikate.jpg" /></p>
</section>
<section id="zusammenfassung-von-selektionen-und-kreuzprodukten-zu-joins">
<h3><span class="section-number">12.3.7. </span>Zusammenfassung von Selektionen und Kreuzprodukten zu Joins<a class="headerlink" href="#zusammenfassung-von-selektionen-und-kreuzprodukten-zu-joins" title="Permalink to this headline">#</a></h3>
<p>Nun kann man die Selektionen mit den Kreuzprodukten zusammenfassen und durch effizienter implementierte Joins austauschen.</p>
<p><img alt="" src="../_images/zusammenfassen_selektionspraedikate.jpg" /></p>
</section>
<section id="optimierung-der-joinreihenfolge-kommutativitat-und-assoziativitat-ausnutzen">
<h3><span class="section-number">12.3.8. </span>Optimierung der Joinreihenfolge: Kommutativität und Assoziativität ausnutzen<a class="headerlink" href="#optimierung-der-joinreihenfolge-kommutativitat-und-assoziativitat-ausnutzen" title="Permalink to this headline">#</a></h3>
<p>Nun wollen wir Kommutativität und Assoziativität ausnutzen, um die Joinreihenfolge zu optimieren. Das bedeutet, wir möchten die Tupelmenge, die wir erzeugen, möglichst gering halten.
Wir verschieben daher die Selektion des Professorennames nach ganz unten. Grund hierfür ist, dass wir aus dieser Selektion nur ein Tupel erhalten mit dem wir weiterarbeiten müssen. Danach vergrößert sich die Tupelmenge nur minimal um die Vorlesungen, die der Professor hält, usw.
Ohne diese Optimierung starten wir mit der gesamten Menge an Studierenden, die diese Vorlesung hören. Nun muss man diese große Tupelmenge als Input für die nächsten Operationen mitnehmen, was vermeidbare Kosten verursacht.</p>
<p><img alt="" src="../_images/joinreihenfolge1.jpg" /></p>
</section>
<section id="was-hat-s-gebracht">
<h3><span class="section-number">12.3.9. </span>Was hat´s gebracht?<a class="headerlink" href="#was-hat-s-gebracht" title="Permalink to this headline">#</a></h3>
<p>Ohne die Optimierungen haben wir ein Maximum von 13 Tupeln mit denen wir arbeiten müssen. Generell arbeiten wir hierbei immer mit einer sehr hohen Anzahl von Tupeln im Gegensatz zu der Variante mit Optimierungen. Durch die Optimierungen arbeiten wir auf maximal 4 Tupeln.</p>
<p>Es handelt sich hier um ein ausgedachtes Beispiel. Die Zahlen sind nicht logisch herleitbar. Es soll nur darstellen, wie sich das Verschieben von günstigen Join-Varianten auf die Tupelmenge, verhält.</p>
<p><img alt="" src="../_images/joinreihenfolge2.jpg" /></p>
</section>
<section id="einfugen-von-projektionen">
<h3><span class="section-number">12.3.10. </span>Einfügen von Projektionen<a class="headerlink" href="#einfugen-von-projektionen" title="Permalink to this headline">#</a></h3>
<p>Nun kann man noch darüber nachdenken, ob man Projektionen einfügt, wenn man bestimmte Spalten nicht mehr braucht. Das wäre bei der Matrikelnummer der Fall, denn man benötigt im Nachhinein nur noch diese aus den Attributen beim Join und der Projektion danach. Insbesondere haben wir dort dann einen Left-Join ausgeführt.</p>
<p><img alt="" src="../_images/einfuegen_projektion.jpg" /></p>
</section>
<section id="sqlite-explain">
<h3><span class="section-number">12.3.11. </span>SQLite Explain<a class="headerlink" href="#sqlite-explain" title="Permalink to this headline">#</a></h3>
<p>Anfragepläne kann man auch in SQLite ausprobieren. Dafür stellt man am Anfang mit ‘.eqp on’ den Modus an. Dann wird für jede Anfrage der Plan direkt gezeigt.
Es kann auch explizit mit ‘EXPLAIN QUERY PLAN’ eingestellt werden. Danach gibt man wie gewohnt die SQL-Anfrage ein.
Nun kann man die tatsächliche Implementierung sehen. Zunächst wird die ‘producer’ Tabelle gescannt. Es wird dann ein Autoindex für ‘movie’ verwendet, weil wir den Primärschlüssel ‘mid’ verwenden. Dieser Index wird für den IN-OPERATOR verwendet.
Außerdem wird ein B-TREE verwendet, um die doppelten Werte zu vermeiden.</p>
<p><img alt="" src="../_images/sqlite.jpg" /></p>
</section>
</section>
<section id="kostenmodelle">
<h2><span class="section-number">12.4. </span>Kostenmodelle<a class="headerlink" href="#kostenmodelle" title="Permalink to this headline">#</a></h2>
<section id="kostenbasierte-optimierung">
<h3><span class="section-number">12.4.1. </span>Kostenbasierte Optimierung<a class="headerlink" href="#kostenbasierte-optimierung" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Konzeptionell: Generiere alle denkbaren Anfrageausführungspläne.
<br><br></p></li>
<li><p>Bewerte deren Kosten anhand eines Kostenmodells</p></li>
<li><p>Statistiken und Histogramme</p></li>
<li><p>Kalibrierung gemäß verwendeter Rechner</p></li>
<li><p>Abhängig vom verfügbaren Speicher</p></li>
<li><p>Aufwands-Kostenmodell</p></li>
<li><p>Durchsatz-maximierend</p></li>
<li><p>Nicht Antwortzeit-minimierend
<br>
Achtung: Nicht zu lange optimieren!
<br><br></p></li>
<li><p>Führe billigsten Plan aus</p></li>
</ul>
</section>
<section id="problemgrosze-suchraum">
<h3><span class="section-number">12.4.2. </span>Problemgröße (Suchraum)<a class="headerlink" href="#problemgrosze-suchraum" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Konzeptionell: Generiere alle denkbaren Anfrageausführungspläne</p></li>
<li><p>Anzahl Bushy-Pläne mit n Tabellen</p></li>
<li><p><span class="math notranslate nohighlight">\(\frac{(2(n-1))!}{(n-1)!}\)</span></p></li>
</ul>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>n</p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(2^n\)</span></p></th>
<th class="head"><p>(2(n-1))!/(n-1)!</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2</p></td>
<td><p>4</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>32</p></td>
<td><p>1680</p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p>1024</p></td>
<td><p>1,76 <span class="math notranslate nohighlight">\(\times 10^{10}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>20</p></td>
<td><p>1.048.576</p></td>
<td><p><span class="math notranslate nohighlight">\(4,3\times10^{27}\)</span></p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>Plankosten unterscheiden sich um viele Größenordnungen.</p></li>
<li><p>Optimierungsproblem ist NP-hart</p></li>
</ul>
</section>
<section id="kostenmodell">
<h3><span class="section-number">12.4.3. </span>Kostenmodell<a class="headerlink" href="#kostenmodell" title="Permalink to this headline">#</a></h3>
<p><img alt="" src="../_images/kostenmodell.jpg" /></p>
</section>
<section id="statistiken">
<h3><span class="section-number">12.4.4. </span>Statistiken<a class="headerlink" href="#statistiken" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Zu jeder Basisrelation</p></li>
<li><p>Anzahl der Tupel</p></li>
<li><p>Tupelgröße
<br><br></p></li>
<li><p>Zu (jedem) Attribut</p></li>
<li><p>Min / Max</p></li>
<li><p>Werteverteilung (Histogramm)</p></li>
<li><p>Anzahl der distinct Werte</p></li>
<li><p>Oft: „Kardinalität“
<br><br></p></li>
<li><p>Zum System</p></li>
<li><p>Speichergröße</p></li>
<li><p>Bandbreite</p></li>
<li><p>I/O Zeiten</p></li>
<li><p>CPU Zeiten
<br><br></p></li>
<li><p>Problem: Erstellung und Update der Statistiken</p></li>
<li><p>Deshalb meist nur explizit/manuell zu initiieren</p></li>
<li><p>runstats()
<br><br>
<img alt="" src="../_images/statistik.jpg" /></p></li>
</ul>
</section>
<section id="kosten-von-operationen">
<h3><span class="section-number">12.4.5. </span>Kosten von Operationen<a class="headerlink" href="#kosten-von-operationen" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Projektion:</p></li>
<li><p>Keine Kosten falls mit anderem Operator kombiniert
<br><br></p></li>
<li><p>Selektion</p></li>
<li><p>Ohne Index: Gesamte Relation von Festplatte lesen</p></li>
<li><p>Mit Baum-Index (z.B. B-Baum): Teil des Index von Platte lesen (Baumtiefe) und gesuchte Seite von Platte lesen</p></li>
<li><p>Bei Pipelining: (Fast) keine Kosten
<br><br></p></li>
<li><p>Join</p></li>
<li><p>Je nach Joinalgorithmus</p></li>
<li><p>Nested Loops, Hash-Join, Sort-Merge Join, usw.
<br><br></p></li>
<li><p>Sortierung: Nicht hier
<br><br></p></li>
<li><p>Wesentliches Kostenmerkmal: Anzahl der Tupel im Input</p></li>
<li><p>Insbesondere: Passt die Relation in den Hauptspeicher?</p></li>
<li><p>Selektion, Projektion, Sortierung, Join
<br><br></p></li>
<li><p>Output ist Input des nächsten Operators.
<br><br></p></li>
<li><p>Deshalb: Ein Kostenmodel schätzt u.a. für jede Operation die Anzahl der Ausgabetupel.</p></li>
<li><p>„Selektivität“ in Bezug auf Inputgröße</p></li>
<li><p>#Ausgabetupel = #Eingabetupel x Selektivität</p></li>
<li><p>Auch „Selektivitätsfaktor“ (selectivity factor, sf)</p></li>
</ul>
</section>
<section id="selektivitat">
<h3><span class="section-number">12.4.6. </span>Selektivität<a class="headerlink" href="#selektivitat" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Selektivität schätzt Anzahl der qualifizierenden Tupel relativ zur Gesamtanzahl der Tupel in der Input Relation.
<br><br></p></li>
<li><p>Projektion:</p></li>
<li><p>sf = |R|/|R| = 1
<br><br></p></li>
<li><p>Selektion:</p></li>
<li><p>sf = |<span class="math notranslate nohighlight">\(\sigma_c\)</span>®| / |R|
<br><br></p></li>
<li><p>Join:</p></li>
<li><p>sf = |R ⋈ S| / |R x S| = |R ⋈ S| / (|R| · |S|)</p></li>
</ul>
<section id="selektivitat-schatzen">
<h4><span class="section-number">12.4.6.1. </span>Selektivität schätzen<a class="headerlink" href="#selektivitat-schatzen" title="Permalink to this headline">#</a></h4>
<ul class="simple">
<li><p>Selektion:</p></li>
<li><p>Selektion auf einen Schlüssel:</p></li>
<li><p>sf = 1 / |R|</p></li>
<li><p>Selektion auf einen Attribut A mit m verschiedenen Werten:</p></li>
<li><p>sf = (|R| / m) / |R| = 1/m</p></li>
<li><p>Dies ist nur geschätzt!
<br><br></p></li>
<li><p>Join</p></li>
<li><p>Equijoin zwischen R und S über Fremdschlüssel in S</p></li>
<li><p>sf = 1 / |R|</p></li>
<li><p>„Beweis“: sf = |R ⋈ S| / (|R x S|) = |S| / (|R| · |S|)</p></li>
</ul>
</section>
</section>
<section id="selinger-style-optimization">
<h3><span class="section-number">12.4.7. </span>Selinger-style“ Optimization<a class="headerlink" href="#selinger-style-optimization" title="Permalink to this headline">#</a></h3>
<p><img alt="" src="../_images/selinger_style1.jpg" /></p>
<p><img alt="" src="../_images/selinger_style2.jpg" /></p>
</section>
<section id="join-selektivitat-selinger-style">
<h3><span class="section-number">12.4.8. </span>Join Selektivität (Selinger Style)<a class="headerlink" href="#join-selektivitat-selinger-style" title="Permalink to this headline">#</a></h3>
<p><img alt="" src="../_images/selinger_style3.jpg" />
<br>
Beispiel</p>
<ul class="simple">
<li><p>SELECT * FROM cust, order WHERE <a class="reference external" href="http://cust.ID">cust.ID</a> = order.custID</p></li>
<li><p>DISTINCT <a class="reference external" href="http://cust.ID">cust.ID</a> = |cust|</p></li>
<li><p>DISTINCT order.custID ≤ |cust|</p></li>
<li><p>sf = 1/|cust|</p></li>
<li><p>|cust ⋈ order| = 1/|cust| * |cust| * |order| = |order|</p></li>
</ul>
</section>
<section id="modelle-zum-besseren-schatzen-der-selektivitat">
<h3><span class="section-number">12.4.9. </span>Modelle zum besseren Schätzen der Selektivität<a class="headerlink" href="#modelle-zum-besseren-schatzen-der-selektivitat" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Gleichverteilung der Werte</p></li>
<li><p>Platzsparend (count, max, min), einfach</p></li>
<li><p>Schlechte Abschätzung bei “skew” (ungleiche Verteilung)
<br><br></p></li>
<li><p>Histogramme (Beispiel gleich)</p></li>
<li><p>Parametrisierte Größe, einfach</p></li>
<li><p>Güte der Abschätzung hängt von Histogrammtyp und -größe ab.</p></li>
<li><p>Außerdem: Aktualität garantieren ist aufwändig.
<br><br></p></li>
<li><p>Sampling</p></li>
<li><p>Repräsentative Teilmenge der Relation</p></li>
<li><p>Parametrisierte Größe, schwierig zu finden</p></li>
<li><p>Güte hängt von Samplingmethode und Samplegröße ab</p></li>
<li><p>Außerdem: Aktualität</p></li>
</ul>
</section>
<section id="beispiel-zu-histogrammen">
<h3><span class="section-number">12.4.10. </span>Beispiel zu Histogrammen<a class="headerlink" href="#beispiel-zu-histogrammen" title="Permalink to this headline">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="o">*</span>
<span class="n">FROM</span> <span class="n">product</span> <span class="n">p</span><span class="p">,</span> <span class="n">sales</span> <span class="n">S</span>
<span class="n">WHERE</span> <span class="n">p</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">p_id</span> <span class="ow">and</span>
<span class="n">p</span><span class="o">.</span><span class="n">price</span> <span class="o">&gt;</span> <span class="mi">100</span> 
</pre></div>
</div>
<ul class="simple">
<li><p>Gegeben 3300 products, 1M sales</p></li>
<li><p>Gleichverteilung</p></li>
<li><p>Preisspanne ist 0-1000 =&gt; Selektivität der Bedingung ist 9/10</p></li>
<li><p>Erwartet: 9/10*3300 ≈ 3000 Produkte</p></li>
<li><p>Histogramm-basiert</p></li>
<li><p>Selektivität der Bedingung ist 5/3300 ≈ 0,0015 also 5 Produkte</p></li>
</ul>
<p><img alt="" src="../_images/histogramm.jpg" /></p>
</section>
<section id="kosten-weitere-komplikationen">
<h3><span class="section-number">12.4.11. </span>Kosten – Weitere Komplikationen<a class="headerlink" href="#kosten-weitere-komplikationen" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Parallelität / Pipelining</p></li>
<li><p>Kosten aller Operatoren können nicht addiert werden.
<br><br></p></li>
<li><p>Hauptspeichergröße</p></li>
<li><p>Pufferung und Caching
<br><br></p></li>
<li><p>I/O Kosten (Lesen einer Seite) vs. CPU Kosten
<br><br></p></li>
<li><p>Multiuser: Durchsatz statt Antwortzeit
<br><br></p></li>
<li><p>=&gt; Kostenmodelle sind hochkomplex</p></li>
</ul>
</section>
<section id="ausblick-auf-dbs-ii">
<h3><span class="section-number">12.4.12. </span>Ausblick auf DBS II<a class="headerlink" href="#ausblick-auf-dbs-ii" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Diverse Algorithmen für einzelne Operatoren</p></li>
<li><p>Insbesondere Join und Sortierung</p></li>
<li><p>Kostenmodelle/Kostenschätzung genauer</p></li>
<li><p>Optimale Joinreihenfolge: Dynamische Programmierung</p></li>
<li><p>Physische Anfragepläne / Pipelining</p></li>
</ul>
<p><img alt="" src="../_images/ausblick.jpg" /></p>
</section>
</section>
<section id="multiple-choice">
<h2><span class="section-number">12.5. </span>Multiple Choice<a class="headerlink" href="#multiple-choice" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Die hier verwendete Version des Multiple-Choice-Trainers von EILD.nrw wird nur in das JupyterBook eingebunden und nicht selbst gehostet. Der Multiple-Choice-Trainer wird durch GitHub-Pages gehostet.</p></li>
<li><p>Alle Fragen und Kategorien befinden sich zurzeit in Überarbeitung und sind nicht final.</p></li>
</ul>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="100%"
    height="800"
    src="https://lejuliennn.github.io/mct-trainer/#/quiz/categories/bearbeitung"
    frameborder="0"
    allowfullscreen

></iframe>
</div></div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "LUH-DBS/GDBS_Script",
            ref: "main/",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./12"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../11/transaktionen.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">11. </span>Transaktionsmanagement</p>
        </div>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Prof. Dr. Ziawasch Abedjan<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>