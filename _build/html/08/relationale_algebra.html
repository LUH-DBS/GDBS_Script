
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>8. Relationale Algebra &#8212; Online-Skript Grundlagen der Datenbanksysteme</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="9. SQL" href="../09/sql.html" />
    <link rel="prev" title="7. Normalisierung" href="../07/normalisierung.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/DBIS_Kurzlogo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Online-Skript Grundlagen der Datenbanksysteme</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Grundlagen der Datenbanksysteme
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../01/einfuehrung.html">
   1. Einführung
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02/historie.html">
   2. Historie
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../03/architektur.html">
   3. Architektur
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../04/phasenmodell_datenbankentwurf.html">
   4. Phasenmodell für den Datenbankentwurf
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../05/er_modellierung.html">
   5. ER-Modellierung
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../06/relationaler_entwurf.html">
   6. Relationaler Entwurf
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../07/normalisierung.html">
   7. Normalisierung
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   8. Relationale Algebra
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../09/sql.html">
   9. SQL
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../10/integritaet_und_trigger.html">
   10. Integrität und Trigger
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../11/transaktionen.html">
   11. Transaktionsmanagement
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../12/bearbeitung.html">
   12. Bearbeitung
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/LUH-DBS/GDBS_Script/main/?urlpath=tree/08/relationale_algebra.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        
<button onclick="initThebeSBT()"
  class="headerbtn headerbtn-launch-thebe"
  data-toggle="tooltip"
data-placement="left"
title="Launch Thebe"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="headerbtn__text-container">Live Code</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/LUH-DBS/GDBS_Script"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/LUH-DBS/GDBS_Script/issues/new?title=Issue%20on%20page%20%2F08/relationale_algebra.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/08/relationale_algebra.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#einfuhrung">
   8.1. Einführung
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kriterien-fur-anfragesprachen">
     8.1.1. Kriterien für Anfragesprachen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#anfragealgebra">
     8.1.2. Anfragealgebra
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mengen-vs-multimengen">
     8.1.3. Mengen vs. Multimengen
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#basisoperatoren">
   8.2. Basisoperatoren
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#klassifikation-der-operatoren">
   8.3. Klassifikation der Operatoren
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#vereinigung-union-cup">
   8.4. Vereinigung (union,
   <span class="math notranslate nohighlight">
    \(\cup\)
   </span>
   )
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#beispiel-fur-mengenoperatoren">
   8.5. Beispiel für Mengenoperatoren
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#differenz-difference">
   8.6. Differenz (difference, ―, \)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id1">
   8.7. Beispiel für Mengenoperatoren
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#schnittmenge-intersection-cap">
   8.8. Schnittmenge (intersection,
   <span class="math notranslate nohighlight">
    \(\cap\)
   </span>
   )
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   8.9. Beispiel für Mengenoperatoren
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#projektion-projection-pi">
   8.10. Projektion (projection,
   <span class="math notranslate nohighlight">
    \(\pi\)
   </span>
   )
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#projektion-beispiel">
   8.11. Projektion – Beispiel
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#erweiterte-projektion">
   8.12. Erweiterte Projektion
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#selektion-selection-sigma">
   8.13. Selektion (selection,
   <span class="math notranslate nohighlight">
    \(\sigma\)
   </span>
   )
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#selektion-beispiel">
   8.14. Selektion – Beispiel
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#kartesisches-produkt-cartesian-product-cross-product-times">
   8.15. Kartesisches Produkt (Cartesian product, cross product
   <span class="math notranslate nohighlight">
    \(\times\)
   </span>
   )
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#kartesisches-produkt-beispiel">
   8.16. Kartesisches Produkt – Beispiel
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#der-join-operatorfamilie">
   8.17. Der Join – Operatorfamilie
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#naturlicher-join-natural-join">
     8.17.1. Natürlicher Join (natural join, ⋈)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#naturlicher-join-beispiele">
     8.17.2. Natürlicher Join – Beispiele
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#theta-join-theta-join-theta">
     8.17.3. Theta-Join (theta-join,
     <span class="math notranslate nohighlight">
      \(⋈_\theta\)
     </span>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#theta-join-beispiel">
     8.17.4. Theta-Join – Beispiel
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#komplexe-ausdrucke">
     8.17.5. Komplexe Ausdrücke
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#komplexe-ausdrucke-beispiel">
     8.17.6. Komplexe Ausdrücke – Beispiel
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     8.17.7. Komplexe Ausdrücke – Beispiel
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#umbenennung-rename-rho">
     8.17.8. Umbenennung (rename,
     <span class="math notranslate nohighlight">
      \(\rho\)
     </span>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#umbenennung-beispiel">
     8.17.9. Umbenennung – Beispiel
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#unabhangigkeit-und-vollstandigkeit">
     8.17.10. Unabhängigkeit und Vollständigkeit
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#vorschau-zu-optimierung">
   8.18. Vorschau zu Optimierung
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#operatoren-auf-multimengen">
   8.19. Operatoren auf Multimengen
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#motivation">
     8.19.1. Motivation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#effizienz-durch-multimengen">
     8.19.2. Effizienz durch Multimengen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#vereinigung-auf-multimengen">
     8.19.3. Vereinigung auf Multimengen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#schnittmenge-auf-multimengen">
     8.19.4. Schnittmenge auf Multimengen
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#differenz-auf-multimengen">
   8.20. Differenz auf Multimengen
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#projektion-und-selektion-auf-multimengen">
     8.20.1. Projektion und Selektion auf Multimengen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kreuzprodukt-auf-multimengen">
     8.20.2. Kreuzprodukt auf Multimengen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#joins-auf-multimengen">
     8.20.3. Joins auf Multimengen
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#erweiterte-operatoren">
   8.21. Erweiterte Operatoren
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#uberblick-uber-erweiterungen">
   8.22. Überblick über Erweiterungen
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#duplikateliminierung-duplicate-elimination-delta">
     8.22.1. Duplikateliminierung (duplicate elimination,
     <span class="math notranslate nohighlight">
      \(\delta\)
     </span>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aggregation">
     8.22.2. Aggregation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aggregation-beispiele">
     8.22.3. Aggregation – Beispiele
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gruppierung">
     8.22.4. Gruppierung
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gruppierung-group-gamma">
     8.22.5. Gruppierung (group,
     <span class="math notranslate nohighlight">
      \(\gamma\)
     </span>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gruppierung-beispiele">
     8.22.6. Gruppierung – Beispiele
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#komplexe-ausdrucke-beispiele">
     8.22.7. Komplexe Ausdrücke – Beispiele
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sortierung-sort-tau">
     8.22.8. Sortierung (sort,
     <span class="math notranslate nohighlight">
      \(\tau\)
     </span>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#semi-join">
     8.22.9. Semi-Join (⋊)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     8.22.10. Semi-Join
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#outer-joins-auszere-verbunde">
     8.22.11. Outer Joins (Äußere Verbünde, |⋈|)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#outer-union">
     8.22.12. Outer Union (⊎)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#division-division">
     8.22.13. Division (division, /)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#division-beispiel">
     8.22.14. Division – Beispiel
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#division-ausdrucken">
     8.22.15. Division ausdrücken
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#division">
     8.22.16. Division
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#multiple-choice">
   8.23. Multiple Choice
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Relationale Algebra</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#einfuhrung">
   8.1. Einführung
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kriterien-fur-anfragesprachen">
     8.1.1. Kriterien für Anfragesprachen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#anfragealgebra">
     8.1.2. Anfragealgebra
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mengen-vs-multimengen">
     8.1.3. Mengen vs. Multimengen
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#basisoperatoren">
   8.2. Basisoperatoren
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#klassifikation-der-operatoren">
   8.3. Klassifikation der Operatoren
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#vereinigung-union-cup">
   8.4. Vereinigung (union,
   <span class="math notranslate nohighlight">
    \(\cup\)
   </span>
   )
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#beispiel-fur-mengenoperatoren">
   8.5. Beispiel für Mengenoperatoren
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#differenz-difference">
   8.6. Differenz (difference, ―, \)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id1">
   8.7. Beispiel für Mengenoperatoren
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#schnittmenge-intersection-cap">
   8.8. Schnittmenge (intersection,
   <span class="math notranslate nohighlight">
    \(\cap\)
   </span>
   )
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   8.9. Beispiel für Mengenoperatoren
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#projektion-projection-pi">
   8.10. Projektion (projection,
   <span class="math notranslate nohighlight">
    \(\pi\)
   </span>
   )
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#projektion-beispiel">
   8.11. Projektion – Beispiel
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#erweiterte-projektion">
   8.12. Erweiterte Projektion
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#selektion-selection-sigma">
   8.13. Selektion (selection,
   <span class="math notranslate nohighlight">
    \(\sigma\)
   </span>
   )
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#selektion-beispiel">
   8.14. Selektion – Beispiel
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#kartesisches-produkt-cartesian-product-cross-product-times">
   8.15. Kartesisches Produkt (Cartesian product, cross product
   <span class="math notranslate nohighlight">
    \(\times\)
   </span>
   )
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#kartesisches-produkt-beispiel">
   8.16. Kartesisches Produkt – Beispiel
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#der-join-operatorfamilie">
   8.17. Der Join – Operatorfamilie
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#naturlicher-join-natural-join">
     8.17.1. Natürlicher Join (natural join, ⋈)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#naturlicher-join-beispiele">
     8.17.2. Natürlicher Join – Beispiele
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#theta-join-theta-join-theta">
     8.17.3. Theta-Join (theta-join,
     <span class="math notranslate nohighlight">
      \(⋈_\theta\)
     </span>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#theta-join-beispiel">
     8.17.4. Theta-Join – Beispiel
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#komplexe-ausdrucke">
     8.17.5. Komplexe Ausdrücke
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#komplexe-ausdrucke-beispiel">
     8.17.6. Komplexe Ausdrücke – Beispiel
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     8.17.7. Komplexe Ausdrücke – Beispiel
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#umbenennung-rename-rho">
     8.17.8. Umbenennung (rename,
     <span class="math notranslate nohighlight">
      \(\rho\)
     </span>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#umbenennung-beispiel">
     8.17.9. Umbenennung – Beispiel
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#unabhangigkeit-und-vollstandigkeit">
     8.17.10. Unabhängigkeit und Vollständigkeit
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#vorschau-zu-optimierung">
   8.18. Vorschau zu Optimierung
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#operatoren-auf-multimengen">
   8.19. Operatoren auf Multimengen
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#motivation">
     8.19.1. Motivation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#effizienz-durch-multimengen">
     8.19.2. Effizienz durch Multimengen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#vereinigung-auf-multimengen">
     8.19.3. Vereinigung auf Multimengen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#schnittmenge-auf-multimengen">
     8.19.4. Schnittmenge auf Multimengen
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#differenz-auf-multimengen">
   8.20. Differenz auf Multimengen
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#projektion-und-selektion-auf-multimengen">
     8.20.1. Projektion und Selektion auf Multimengen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kreuzprodukt-auf-multimengen">
     8.20.2. Kreuzprodukt auf Multimengen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#joins-auf-multimengen">
     8.20.3. Joins auf Multimengen
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#erweiterte-operatoren">
   8.21. Erweiterte Operatoren
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#uberblick-uber-erweiterungen">
   8.22. Überblick über Erweiterungen
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#duplikateliminierung-duplicate-elimination-delta">
     8.22.1. Duplikateliminierung (duplicate elimination,
     <span class="math notranslate nohighlight">
      \(\delta\)
     </span>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aggregation">
     8.22.2. Aggregation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aggregation-beispiele">
     8.22.3. Aggregation – Beispiele
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gruppierung">
     8.22.4. Gruppierung
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gruppierung-group-gamma">
     8.22.5. Gruppierung (group,
     <span class="math notranslate nohighlight">
      \(\gamma\)
     </span>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gruppierung-beispiele">
     8.22.6. Gruppierung – Beispiele
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#komplexe-ausdrucke-beispiele">
     8.22.7. Komplexe Ausdrücke – Beispiele
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sortierung-sort-tau">
     8.22.8. Sortierung (sort,
     <span class="math notranslate nohighlight">
      \(\tau\)
     </span>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#semi-join">
     8.22.9. Semi-Join (⋊)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     8.22.10. Semi-Join
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#outer-joins-auszere-verbunde">
     8.22.11. Outer Joins (Äußere Verbünde, |⋈|)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#outer-union">
     8.22.12. Outer Union (⊎)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#division-division">
     8.22.13. Division (division, /)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#division-beispiel">
     8.22.14. Division – Beispiel
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#division-ausdrucken">
     8.22.15. Division ausdrücken
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#division">
     8.22.16. Division
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#multiple-choice">
   8.23. Multiple Choice
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="relationale-algebra">
<h1><span class="section-number">8. </span>Relationale Algebra<a class="headerlink" href="#relationale-algebra" title="Permalink to this headline">#</a></h1>
<p>Die Relationale Algebra ist der wohl formalste Teil dieser  Vorlesung. <br>
Zuvor wurde über die Modellierung von Daten gesprochen und wie man relationale Datenbanken entwirft. <br>
Jetzt geht es darum, die zuvor modellierte relationale Datenbank  mit einer Sprache zu manipulieren bzw. neue Sichten darauf zu erstellen und an diese Anfragen zu stellen.</p>
<section id="einfuhrung">
<h2><span class="section-number">8.1. </span>Einführung<a class="headerlink" href="#einfuhrung" title="Permalink to this headline">#</a></h2>
<p>In den letzten Kapiteln wurde das Relationsschema mit Basisrelationen, die in der Datenbank gespeichert sind, behandelt.
<br>
Jetzt geht es um „abgeleitete“ Relationenschemata mit virtuellen Relationen, die aus den Basisrelationen berechnet werden.
<br>
Die „abgeleiteten“ Relationsschemata werden durch Anfragen definiert.
Daher benötigt man eine Anfragesprache. Eine Eigenschaft von ihr ist es, die Basis-Relationen nicht zu verändern, sondern neue Relationen für den Nutzer oder für die Applikation zu generieren.
<br></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Eine</span> <span class="n">Anfrage</span> <span class="n">an</span> <span class="n">eine</span> <span class="n">Relation</span> <span class="n">und</span> <span class="n">deren</span> <span class="n">Ergebnisse</span> <span class="n">stellen</span> <span class="n">wieder</span> <span class="n">neue</span> <span class="n">Relationen</span> <span class="n">dar</span><span class="o">.</span> 
</pre></div>
</div>
<section id="kriterien-fur-anfragesprachen">
<h3><span class="section-number">8.1.1. </span>Kriterien für Anfragesprachen<a class="headerlink" href="#kriterien-fur-anfragesprachen" title="Permalink to this headline">#</a></h3>
<p>Für Anfragesprachen gibt es verschiedene Kritieren. Unter Anderem soll eine Ad-Hoc-Formulierung möglich sein. Der Benutzer soll eine Anfrage formulieren können, ohne ein vollständiges Programm schreiben zu müssen. Wenn man ein neues Programm in einer Sprache wie Python schreibt, muss man sich darum kümmern Bibliotheken zu importieren, usw. Dies ist bei einer Anfragensprache eben nicht der Fall.
<br>
Zudem soll eine Anfragesprache eingeschränkt und keine komplette Programmiersprache sein. Sie soll aus einem Standard und nicht aus zu vielen verschiedenen Vokabularien bestehen. Dennoch besteht der SQL-Standard aus mehr als 1300 Seiten!
<br>
Eine weiteres Kriterium einer Anfragesprache ist die Deskriptivität bzw. die Deklarativität.
Der Benutzer soll formulieren was er haben möchte („Was will ich haben?“) und nicht wie er an das kommt, was er haben möchte („Wie komme ich an das, was ich haben will?“). Das System erstellt die darunterliegenden Programme automatisch zu der gegebenen Anfrage, ohne dass man schreiben muss, wie die Programme genau funktionieren.
<br><br>
Zusätzlich muss eine Sprache optimierbar sein. Eine Sprache besteht aus wenigen Operationen.
Für die Operatormenge gibt es Optimierungsregeln. Die Optimierung ist abhängig von der Nutzung bzw. von den Daten. Bestimmte Operatoren in bestimmten Situationen kosten unterschiedlich viel.
<br><br>
Eine Anfragesprache muss effizient sein, insbesondere die einzelnen Operationen.
Im relationalen Modell hat jede Operation eine Komplexität ≤ O(n²)
Wobei n die Anzahl der Tupel einer Relation darstellt.
<br><br>
Die Abgeschlossenheit ist eine weitere Eigenschaft einer Anfragesprache. Das Ergebnis von Anfragen auf Relationen ist wiederum eine Relation und kann als Eingabe für die nächste Anfrage verwendet werden.
<br><br>
Eine weitere, aber nicht sehr strenge, Eigenschaft ist die Mengenorientiertheit.
Die Operationen sollen auf Mengen von Daten gelten. Dies gilt aber nicht in jedem Fall.
Letztendlich möchte man auf Elemente einer Tabelle zugreifen und nicht nur auf einzelne Elemente  („tuple-at-a-time“), die irgendwo herumliegen.
<br><br>
Adäquatheit ist eine weitere Eigenschaft einer Anfragensprache.
Alle Konstrukte des zugrundeliegenden Datenmodells sollen unterstützt werden.
Dazu zählen Relationen, Attribute, Schlüssel, usw.
<br><br>
Die Vollständigkeit einer Anfragesprache bedeutet, dass eine Sprache mindestens die Anfragen einer Standardsprache (z.B. relationale Algebra) ausdrücken kann. Die Relationale Algebra dient hierbei als Vorgabe.
<br><br>
Zuletzt soll eine Anfragesprache sicher sein. Keine Anfrage, die syntaktisch korrekt ist, darf in eine Endlosschleife geraten oder ein unendliches Ergebnis liefern.</p>
</section>
<section id="anfragealgebra">
<h3><span class="section-number">8.1.2. </span>Anfragealgebra<a class="headerlink" href="#anfragealgebra" title="Permalink to this headline">#</a></h3>
<p>In der Mathematik ist die Algebra definiert durch einen Wertebereich und auf diesem definierte Operatoren. <br>
Ein Operand besteht aus Variablen oder aus Werten, aus denen neue Werte konstruiert werden können (x, 2, 3, …).<br>
Ein Operator besteht aus Symbolen, die Prozeduren repräsentieren, die aus gegebenen Werten neue Werte produzieren (+, -, * , /, …).
<br><br>
Für Datenbankanfragen gibt es ebenfalls eine Algebra, die relationale Algebra (RA). Sie ist eine Anfragesprache für das relationale Modell.
Die Inhalte der Datenbank (Relationen) sind die Operanden.
Die Operatoren definieren gewisse Funktionen zum Berechnen von Anfrageergebnissen.
Es sind sehr grundlegenden Dinge, die wir mit Relationen tun wollen.</p>
</section>
<section id="mengen-vs-multimengen">
<h3><span class="section-number">8.1.3. </span>Mengen vs. Multimengen<a class="headerlink" href="#mengen-vs-multimengen" title="Permalink to this headline">#</a></h3>
<p>Bei der relationalen Algebra geht es hauptsächlich um Mengen. Bei normalen Mengen darf kein Tupel doppelt auftauchen. Bei Multimengen können identische Tupel mehrmals vorkommen. Es kann nämlich in einer Datenbanktabelle passieren, dass die Schlüssel nicht ordentlich definiert sind. Dann hat man sozusagen ein „Sack voll mit Tupeln“ (engl. „bag“).<br />
<br>
Die Operatoren der relationalen Algebra sind auf Mengen definiert, wohingegen die Operatoren auf einem DBMS (SQL-Anfragen) auf Multimengen definiert sind. Dies hat verschiedene Gründe. Zum Einem kann man hiermit die Effizienz beeinflussen bzw. steigern. Dazu kann man sich überlegen wie man eine Vereinigung als Multimenge und eine Vereinigung als Menge implementiert.</p>
</section>
</section>
<section id="basisoperatoren">
<h2><span class="section-number">8.2. </span>Basisoperatoren<a class="headerlink" href="#basisoperatoren" title="Permalink to this headline">#</a></h2>
</section>
<section id="klassifikation-der-operatoren">
<h2><span class="section-number">8.3. </span>Klassifikation der Operatoren<a class="headerlink" href="#klassifikation-der-operatoren" title="Permalink to this headline">#</a></h2>
<p>Die bereits bekannten Mengenoperatoren
<br>
□ Vereinigung, Schnittmenge, Differenz
<br><br>
Entfernende Operatoren werden auf einzelnen Elemente angewandt.
<br>
□ Selektion, Projektion
<br><br>
Mit kombinierenden Operatoren kann man mehrere Relationen miteinander verbinden und neue Kombinationen von Tupeln bilden. Im Gegensatz zu den Mengenoperationen bei denen die Ergebnistupel immer gleich aussehen, kann es bei den kombinierenden Operatoren dazu kommen, dass die Ergebnistupel in ihren Attributen unterschiedlich aussehen.
<br>
□ Kartesisches Produkt, Join, Joinvarianten
<br><br>
Die Umbenennung ist die einzige Ooeration, die nicht die Tupel verändert, sondern das Schema.
<br><br>
Ein Ausdruck in der Relationlen Algebra besteht aus einer Kombination von Operatoren und Operanden, auch Anfragen (queries) genannt.</p>
</section>
<section id="vereinigung-union-cup">
<h2><span class="section-number">8.4. </span>Vereinigung (union, <span class="math notranslate nohighlight">\(\cup\)</span>)<a class="headerlink" href="#vereinigung-union-cup" title="Permalink to this headline">#</a></h2>
<p>Die Vereinigung sammelt Elemente (Tupel) zweier Relationen unter einem gemeinsamen Schema auf.</p>
<ul class="simple">
<li><p>R ∪ S := {t | t <span class="math notranslate nohighlight">\(\in\)</span> R <span class="math notranslate nohighlight">\(\vee\)</span> t <span class="math notranslate nohighlight">\(\in\)</span> S}</p></li>
</ul>
<p>Um eine Vereinigung anwenden zu können, müssen die Attributmengen beider Relationen identisch sein. Dazu gehören die Namen, Typen und die Reihenfolge. Wenn man beispielsweise die Attribute  in einer Tabelle in einem anderen Format hat als in der Anderen und die Werte vom gleichen Typ sind, kann mam diese Umbenennen und dennoch eine Vereinigung bilden.
<br>
Ein Element ist nur einmal in der Vereinigung von R und S (R ∪ S) vertreten, auch wenn es jeweils einmal in R und S auftaucht. Es kommt zu einer Duplikatentfernung.</p>
</section>
<section id="beispiel-fur-mengenoperatoren">
<h2><span class="section-number">8.5. </span>Beispiel für Mengenoperatoren<a class="headerlink" href="#beispiel-fur-mengenoperatoren" title="Permalink to this headline">#</a></h2>
<p>Das Beispiel zeigt zwei Tabellen R und S mit jeweils Name, Adresse, Geschlecht und Geburt.
Wenn man diese Relationen miteinander vereinigt, erhält man eine neue Relation, in der das Tupel mit “Carrie Fisher” nur ein Mal vorkommt.</p>
<p><span class="math notranslate nohighlight">\(R\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Adresse</p></th>
<th class="head"><p>Geschlecht</p></th>
<th class="head"><p>Geburt</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Carrie Fisher</p></td>
<td><p>123 Maple St., Hollywood</p></td>
<td><p>F</p></td>
<td><p>9/9/99</p></td>
</tr>
<tr class="row-odd"><td><p>Mark Hamill</p></td>
<td><p>456 Oak. Rd., Brentwood</p></td>
<td><p>M</p></td>
<td><p>8/8/88</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Adresse</p></th>
<th class="head"><p>Geschlecht</p></th>
<th class="head"><p>Geburt</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Carrie Fisher</p></td>
<td><p>123 Maple St., Hollywood</p></td>
<td><p>F</p></td>
<td><p>9/9/99</p></td>
</tr>
<tr class="row-odd"><td><p>Harrison Ford</p></td>
<td><p>789 Palm Dr., Beverly Hills</p></td>
<td><p>M</p></td>
<td><p>7/7/77</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(R \cup S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Adresse</p></th>
<th class="head"><p>Geschlecht</p></th>
<th class="head"><p>Geburt</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Carrie Fisher</p></td>
<td><p>123 Maple St., Hollywood</p></td>
<td><p>F</p></td>
<td><p>9/9/99</p></td>
</tr>
<tr class="row-odd"><td><p>Mark Hamill</p></td>
<td><p>456 Oak. Rd., Brentwood</p></td>
<td><p>M</p></td>
<td><p>8/8/88</p></td>
</tr>
<tr class="row-even"><td><p>Harrison Ford</p></td>
<td><p>789 Palm Dr., Beverly Hills</p></td>
<td><p>M</p></td>
<td><p>7/7/77</p></td>
</tr>
</tbody>
</table>
</section>
<section id="differenz-difference">
<h2><span class="section-number">8.6. </span>Differenz (difference, ―, \)<a class="headerlink" href="#differenz-difference" title="Permalink to this headline">#</a></h2>
<p>Die Differenz in der Relationalen Algebra ist sehr ähnlich zu der aus der Mathematik. <br>
Die Differenz von R und S (R − S) eliminiert die Tupel aus der ersten Relation, die auch in der zweiten Relation vorkommen. Die Schemata beider Relationen müssen für eine Differenz gleich sein.
<br></p>
<ul class="simple">
<li><p>R − S := {t | t <span class="math notranslate nohighlight">\(\in\)</span> R <span class="math notranslate nohighlight">\(\wedge\)</span> t <span class="math notranslate nohighlight">\(\notin\)</span> S}</p></li>
</ul>
<p>Die Kommutativität gilt bei der Differenz nicht:</p>
<ul class="simple">
<li><p>R − S ≠ S − R</p></li>
</ul>
</section>
<section id="id1">
<h2><span class="section-number">8.7. </span>Beispiel für Mengenoperatoren<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h2>
<p>Sowohl in der Relation R, als auch in der Relation S, gibt es das gleiche Tupel mit “Carrie Fisher”. Bei der Differenz (R-S) wird das in beiden vorkommende Tupel eliminiert.</p>
<p><span class="math notranslate nohighlight">\(R\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Adresse</p></th>
<th class="head"><p>Geschlecht</p></th>
<th class="head"><p>Geburt</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Carrie Fisher</p></td>
<td><p>123 Maple St., Hollywood</p></td>
<td><p>F</p></td>
<td><p>9/9/99</p></td>
</tr>
<tr class="row-odd"><td><p>Mark Hamill</p></td>
<td><p>456 Oak. Rd., Brentwood</p></td>
<td><p>M</p></td>
<td><p>8/8/88</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Adresse</p></th>
<th class="head"><p>Geschlecht</p></th>
<th class="head"><p>Geburt</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Carrie Fisher</p></td>
<td><p>123 Maple St., Hollywood</p></td>
<td><p>F</p></td>
<td><p>9/9/99</p></td>
</tr>
<tr class="row-odd"><td><p>Harrison Ford</p></td>
<td><p>789 Palm Dr., Beverly Hills</p></td>
<td><p>M</p></td>
<td><p>7/7/77</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(R-S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Adresse</p></th>
<th class="head"><p>Geschlecht</p></th>
<th class="head"><p>Geburt</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Mark Hamill</p></td>
<td><p>456 Oak. Rd., Brentwood</p></td>
<td><p>M</p></td>
<td><p>8/8/88</p></td>
</tr>
</tbody>
</table>
</section>
<section id="schnittmenge-intersection-cap">
<h2><span class="section-number">8.8. </span>Schnittmenge (intersection, <span class="math notranslate nohighlight">\(\cap\)</span>)<a class="headerlink" href="#schnittmenge-intersection-cap" title="Permalink to this headline">#</a></h2>
<p>Die Schnittmenge R <span class="math notranslate nohighlight">\(\cap\)</span> S ergibt die Tupel, die in beiden Relationen gemeinsam vorkommen.<br></p>
<ul class="simple">
<li><p>R <span class="math notranslate nohighlight">\(\cap\)</span> S := {t | t <span class="math notranslate nohighlight">\(\in\)</span> R <span class="math notranslate nohighlight">\(\wedge\)</span> t <span class="math notranslate nohighlight">\(\in\)</span> S}</p></li>
</ul>
<p>Die Schnittmenge als Operator kann durch Verinigungen und Differenzen dargestellt werden, daher ist sie prinzipiell „überflüssig“.</p>
<ul class="simple">
<li><p>R <span class="math notranslate nohighlight">\(\cap\)</span> S = R − (R − S) = S − (S − R)</p></li>
</ul>
<p><img alt="title" src="../_images/schnittmenge.jpg" /></p>
</section>
<section id="id2">
<h2><span class="section-number">8.9. </span>Beispiel für Mengenoperatoren<a class="headerlink" href="#id2" title="Permalink to this headline">#</a></h2>
<p>In Relation R sowie in Relation S gibt es ein identisches “Carrie Fisher” Tupel. Bildet man die Schnittmenge der beiden Relationen (<span class="math notranslate nohighlight">\(R\cap S\)</span>), sind in der Ergebnisrelation alle Tupel, die sowohl in R, als auch in S vorkommen. In diesem Fall wäre es nur das Tupel mit “Carrie Fisher”.</p>
<p><span class="math notranslate nohighlight">\(R\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Adresse</p></th>
<th class="head"><p>Geschlecht</p></th>
<th class="head"><p>Geburt</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Carrie Fisher</p></td>
<td><p>123 Maple St., Hollywood</p></td>
<td><p>F</p></td>
<td><p>9/9/99</p></td>
</tr>
<tr class="row-odd"><td><p>Mark Hamill</p></td>
<td><p>456 Oak. Rd., Brentwood</p></td>
<td><p>M</p></td>
<td><p>8/8/88</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Adresse</p></th>
<th class="head"><p>Geschlecht</p></th>
<th class="head"><p>Geburt</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Carrie Fisher</p></td>
<td><p>123 Maple St., Hollywood</p></td>
<td><p>F</p></td>
<td><p>9/9/99</p></td>
</tr>
<tr class="row-odd"><td><p>Harrison Ford</p></td>
<td><p>789 Palm Dr., Beverly Hills</p></td>
<td><p>M</p></td>
<td><p>7/7/77</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(R\cap S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Adresse</p></th>
<th class="head"><p>Geschlecht</p></th>
<th class="head"><p>Geburt</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Carrie Fisher</p></td>
<td><p>123 Maple St., Hollywood</p></td>
<td><p>F</p></td>
<td><p>9/9/99</p></td>
</tr>
</tbody>
</table>
</section>
<section id="projektion-projection-pi">
<h2><span class="section-number">8.10. </span>Projektion (projection, <span class="math notranslate nohighlight">\(\pi\)</span>)<a class="headerlink" href="#projektion-projection-pi" title="Permalink to this headline">#</a></h2>
<p>Die Projektion ist ein unärer Operator. Sie erzeugt eine neue Relation mit einer Teilmenge der ursprünglichen Attribute.<br>
Angenommen man projiziert auf eine Relation R mit den Attributen A1 bis Ak: <span class="math notranslate nohighlight">\(\pi_{A1,A2,…,Ak}\)</span>®. Als Ergbnis erhält man eine neue Relation mit einer Teilmenge der ursprünglichen Attribute von R. Die Reihenfolge der Attribute entspricht üblicherweise der aufgelisteten Reihenfolge.<br><br>
Durch das Weglassen von Attributen, kann es dazu kommen, dass die übrig gebliebenen Attribute  Duplikate enthalten. Diese werden implizit entfernt. <br>
Ein Beispiel hierzu: Man bildet eine Projektion mit den Attributen A und B auf R. Das Ergebnis sind zwei identische Tupel. Das Duplikat wird eliminiert.</p>
<p>Relation R</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>3</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(\pi_{A,B}\)</span>®</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</section>
<section id="projektion-beispiel">
<h2><span class="section-number">8.11. </span>Projektion – Beispiel<a class="headerlink" href="#projektion-beispiel" title="Permalink to this headline">#</a></h2>
<p>Hier sind zwei weitere Beispiele zu Projektionen anhand einer Film-Tabelle dargestellt. <br>
Im ersten Beispiel werden bei der Projektion nur die Spalten Titel, Jahr und Länge behalten. Die anderen Spalten werden weggeschnitten. <br>
In zweitem Beispiel kommt ‘True’ doppelt vor und daher werden dessen Duplikate entfernt.</p>
<p>Film</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Titel</p></th>
<th class="head"><p>Jahr</p></th>
<th class="head"><p>Länge</p></th>
<th class="head"><p>inFarbe</p></th>
<th class="head"><p>Studio</p></th>
<th class="head"><p>ProduzentID</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Total Recall</p></td>
<td><p>1990</p></td>
<td><p>113</p></td>
<td><p>True</p></td>
<td><p>Fox</p></td>
<td><p>12345</p></td>
</tr>
<tr class="row-odd"><td><p>Basic Instinct</p></td>
<td><p>1992</p></td>
<td><p>127</p></td>
<td><p>True</p></td>
<td><p>Disney</p></td>
<td><p>67890</p></td>
</tr>
<tr class="row-even"><td><p>Dead Man</p></td>
<td><p>1995</p></td>
<td><p>121</p></td>
<td><p>False</p></td>
<td><p>Paramount</p></td>
<td><p>99999</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(\pi_{Titel,Jahr,Länge}\)</span>(Film)</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Titel</p></th>
<th class="head"><p>Jahr</p></th>
<th class="head"><p>Länge</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Total Recall</p></td>
<td><p>1990</p></td>
<td><p>113</p></td>
</tr>
<tr class="row-odd"><td><p>Basic Instinct</p></td>
<td><p>1992</p></td>
<td><p>127</p></td>
</tr>
<tr class="row-even"><td><p>Dead Man</p></td>
<td><p>1995</p></td>
<td><p>121</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(\pi_{inFarbe}\)</span>(Film)</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>inFarbe</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>True</p></td>
</tr>
<tr class="row-odd"><td><p>False</p></td>
</tr>
</tbody>
</table>
</section>
<section id="erweiterte-projektion">
<h2><span class="section-number">8.12. </span>Erweiterte Projektion<a class="headerlink" href="#erweiterte-projektion" title="Permalink to this headline">#</a></h2>
<p>Die Relationale Algebra erlaubt es den Projektionsoperator mehr Fähigkeiten zu geben. Bei der einfachen Projektion zuvor (<span class="math notranslate nohighlight">\(\pi_{L}\)</span>®) war das L dabei ‘nur’ eine Attributliste. Die erweiterte Projektion kann neben der Attributliste auch andere Ausdrücke an der Stelle des L’s stehen haben. <br>
Ein anderer Ausdruck wäre A→B, wobei A ein Attribut in R und B ein neuer Name ist. Dies entspricht einer Umbenennung von Attributen. <br>
Eine weitere Möglichkeit für einen neuen Ausdruck ist e→C. e ist ein Ausdruck mit Konstanten, arithmetischen Operatoren, Attributen von R, String-Operationen. C ist der neue Name für den Ausdruck e. Zwei Beispiele hierfür:</p>
<ul class="simple">
<li><p>A1 + A2 → Summe</p></li>
<li><p>Vorname || ` ` || Nachname → Name</p></li>
</ul>
</section>
<section id="selektion-selection-sigma">
<h2><span class="section-number">8.13. </span>Selektion (selection, <span class="math notranslate nohighlight">\(\sigma\)</span>)<a class="headerlink" href="#selektion-selection-sigma" title="Permalink to this headline">#</a></h2>
<p>Ein weiterer unärer Operator ist die Selektion. Sie erzeugt eine neue Relation mit gleichem Schema, aber einer Teilmenge der Tupel. Einfach ausgedrückt kann man sagen, dass eine Selektion die Anzahl der Tupel reduziert.  <br>
Nur Tupel, die der Selektionsbedingung C (condition) entsprechen, werden in die neu erzeugte Relation übernommen. Für jedes Tupel wird somit einmal die Bedingung geprüft. Es handelt sich bei den Selektionsbedingungen um boolesche Selektionsbedingungen wie man sie aus Programmiersprachen kennt. <br>
Die Operanden der Selektionsbedingung sind nur Konstanten oder Attribute von R. Diese können mittels Vergleichsoperatoren wie &lt;, &gt;, ≤, <span class="math notranslate nohighlight">\(\ge\)</span>, &lt;&gt; und = verglichen werden. const = const ist ein Beispiel dafür wie so etwas aussehen kann. Ist aber eigentlich unnötig, da es sich um Konstanten handelt. Eine typische Selektion ist ein Vergleich zwischen Attribut und Konstante (attr = const). Wenn man zwei Attribute miteinander vergleicht, (attr = attr) kann man mögliche Attribute finden, an denen die zwei Relationen gejoint werden können. Das würde einer Join Bedingung entsprechen. <br>
Die einzelnen Selektionsbedingungen können zu einer gesamten Selektionsbedingung durch AND, OR und NOT kombiniert werden.<br>
<br>
Nicht zu verwechseln sind die Selektion aus der Relationalen Algebra mit dem SELECT aus SQL. Das SELECT entspricht in der Relationalen Algebra einer Projektion. Die Selektion wiederrum entspricht in SQL einer WHERE-Bedingung:</p>
<ul class="simple">
<li><p>Selektion <span class="math notranslate nohighlight">\(\neq\)</span> SELECT</p></li>
</ul>
</section>
<section id="selektion-beispiel">
<h2><span class="section-number">8.14. </span>Selektion – Beispiel<a class="headerlink" href="#selektion-beispiel" title="Permalink to this headline">#</a></h2>
<p>Die Beispiele zeigen verschiedene Selektionen auf einer gegebenen Film-Relation. <br>
Im ersten Beispiel werden alle Filme selektiert, dessen Länge größer oder gleich 100 Minuten ist. <br>
Im zweitem Beispiel kommt noch hinzu, dass diese Filem vom Fox-Studio produziert worden sein müssen.</p>
<p>Film</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Titel</p></th>
<th class="head"><p>Jahr</p></th>
<th class="head"><p>Länge</p></th>
<th class="head"><p>inFarbe</p></th>
<th class="head"><p>Studio</p></th>
<th class="head"><p>ProduzentID</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Total Recall</p></td>
<td><p>1990</p></td>
<td><p>113</p></td>
<td><p>True</p></td>
<td><p>Fox</p></td>
<td><p>12345</p></td>
</tr>
<tr class="row-odd"><td><p>Basic Instinct</p></td>
<td><p>1992</p></td>
<td><p>127</p></td>
<td><p>True</p></td>
<td><p>Disney</p></td>
<td><p>67890</p></td>
</tr>
<tr class="row-even"><td><p>Dead Man</p></td>
<td><p>1995</p></td>
<td><p>90</p></td>
<td><p>False</p></td>
<td><p>Paramount</p></td>
<td><p>99999</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(\sigma_{Länge\geq100}\)</span>(Film)</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Titel</p></th>
<th class="head"><p>Jahr</p></th>
<th class="head"><p>Länge</p></th>
<th class="head"><p>inFarbe</p></th>
<th class="head"><p>Studio</p></th>
<th class="head"><p>ProduzentID</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Total Recall</p></td>
<td><p>1990</p></td>
<td><p>113</p></td>
<td><p>True</p></td>
<td><p>Fox</p></td>
<td><p>12345</p></td>
</tr>
<tr class="row-odd"><td><p>Basic Instinct</p></td>
<td><p>1992</p></td>
<td><p>127</p></td>
<td><p>True</p></td>
<td><p>Disney</p></td>
<td><p>67890</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(\sigma_{Länge\geq100 AND Studio='Fox'}\)</span>(Film)</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Titel</p></th>
<th class="head"><p>Jahr</p></th>
<th class="head"><p>Länge</p></th>
<th class="head"><p>inFarbe</p></th>
<th class="head"><p>Studio</p></th>
<th class="head"><p>ProduzentID</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Total Recall</p></td>
<td><p>1990</p></td>
<td><p>113</p></td>
<td><p>True</p></td>
<td><p>Fox</p></td>
<td><p>12345</p></td>
</tr>
</tbody>
</table>
</section>
<section id="kartesisches-produkt-cartesian-product-cross-product-times">
<h2><span class="section-number">8.15. </span>Kartesisches Produkt (Cartesian product, cross product <span class="math notranslate nohighlight">\(\times\)</span>)<a class="headerlink" href="#kartesisches-produkt-cartesian-product-cross-product-times" title="Permalink to this headline">#</a></h2>
<p>Das Kartesische Produkt ist ein binärer Operator. Benannt worden ist es nach René Descartes. Ein französischer Naturwissenschaftler, Mathematiker und Philosoph. Das Kartesische Produkt ist auch unter anderen Namen wie Kreuzprodukt oder Produkt bekannt. Außerdem gibt es verschiedene Schreibweisen dafür: R * S statt R <span class="math notranslate nohighlight">\(\times\)</span> S
<br><br>
Das Kreuzprodukt zweier Relationen R und S ist die Menge aller Tupel, die man erhält, wenn man jedes Tupel aus R mit jedem Tupel aus S kombiniert. Das Schema hat ein Attribut für jedes Attribut aus R und S. Bei Namensgleichheit von zwei oder mehreren Attributen wird kein Attribut ausgelassen, stattdessen werden sie eindeutig umbenannt.</p>
<p><img alt="title" src="../_images/descartes.jpg" /></p>
</section>
<section id="kartesisches-produkt-beispiel">
<h2><span class="section-number">8.16. </span>Kartesisches Produkt – Beispiel<a class="headerlink" href="#kartesisches-produkt-beispiel" title="Permalink to this headline">#</a></h2>
<p>Das Beispiel zum Kartesischen Produkt zeigt zwei Relationen R und S, die mittels Kreuzprodukt kombiniert werden. Dazu werden alle möglichen Kombinationen der Tupel gebildet. Die Relationen R und S haben ein Attribut mit dem selben Namen (B). In der neuen Ergbnisrelation wird das Attribut jeweils eindeutig umbenannt. Bei der Umbennenung wird als Präfix der Relationsname vor das Attribut geschrieben: R.B und S.B.</p>
<p><span class="math notranslate nohighlight">\(R\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
<th class="head"><p>D</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>10</p></td>
<td><p>11</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(R \times S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>R.B</p></th>
<th class="head"><p>S.B</p></th>
<th class="head"><p>C</p></th>
<th class="head"><p>D</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>9</p></td>
<td><p>10</p></td>
<td><p>11</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
<td><p>2</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>4</p></td>
<td><p>4</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
<td><p>9</p></td>
<td><p>10</p></td>
<td><p>11</p></td>
</tr>
</tbody>
</table>
</section>
<section id="der-join-operatorfamilie">
<h2><span class="section-number">8.17. </span>Der Join – Operatorfamilie<a class="headerlink" href="#der-join-operatorfamilie" title="Permalink to this headline">#</a></h2>
<p>Die folgenden Joins bilden eine Übersicht über die Joins, die in dieser Veranstaltung genauer betrachtet werden:</p>
<ul class="simple">
<li><p>Natürlicher Join (natural join)</p></li>
<li><p>Theta-Join</p></li>
<li><p>Equi-Join</p></li>
<li><p>Semi-Join und Anti-Join</p></li>
<li><p>Left-outer Join und Right-outer Join</p></li>
<li><p>Full-outer Join</p></li>
</ul>
<section id="naturlicher-join-natural-join">
<h3><span class="section-number">8.17.1. </span>Natürlicher Join (natural join, ⋈)<a class="headerlink" href="#naturlicher-join-natural-join" title="Permalink to this headline">#</a></h3>
<p>Der natürliche Join ist ein binärer Operator.
Beim Kreuzprodukt zuvor wurden alle möglichen Tupelpaare gebildet. Im Gegensatz dazu werden beim natürlichen Join Tupelpaare gebildet aus Tupeln, die „irgendwie“ übereinstimmen.
Es werden Tupel miteinander verbunden, die eine Übereinstimmung in allen gemeinsamen Attributen besitzen.
Somit handelt es sich dabei um einen „Verbund“ von Tupeln miteinander. Gegebenenfalls ist beim „Verbinden“ eine Umbennung der Attribute erforderlich. Zum Beispiel wäre dies erforderlich bei zwei Attributen in unterschiedlichen Relationen, wenn die Attribute das Selbe aussagen, aber unterschiedlich benannt worden sind.
<br><br>
Der natürliche Join arbeitet nach dem Schema: Vereinigung der beiden Attributmengen. Im Vergleich zum Kreuzprodukt gibt es nicht mehr die gleichen Attribute doppelt und umbenannt. Das Ergebnis ist nun eine Menge aus Attributen, also ohne (umbenannte) Duplikate. <br>
Die Grafik zeigt passend dazu den natürlichen Join zwischen zwei Relationen. Die Rechtecke stellen Attribute und der Verbund von Rechtecken Relationen dar. Beide ursprünglichen Relationen bestehen aus zwei Attributen, wobei das orangene Attribut in beiden gleich ist. Die erste Relation (oben) besteht zusätzlich noch aus einem blauen und die zweite Relation (unten) aus einem grünen Attribut. Bei einem natürlichen Join beider Relationen wird über die identischen Attribute beider Relationen gejoint. In diesem Fall ist es das orangefarbene Attribut. Die Ergebnisrelation enthält somit am Ende das blaue, grüne und nur einmal das orangene Attribut.</p>
<p><img alt="title" src="../_images/njoin.jpg" /></p>
<p>Beim natürlichen Join gibt es verschiedene Notationen. <br>
r[A] beschreibt eine Projektion des Tupels r auf dem Attribut A. Es gibt somit genau den Wert des Tupels R beim Attribut A an. <br>
Gegeben sind nun zwei Relationen R und S. Beide Relationen haben die gemeinsamen Attribute A1, …, Ak. Dann wird der natürliche Join wie folgt definiert:</p>
<ul class="simple">
<li><p>R ⋈ S = {r <span class="math notranslate nohighlight">\(\cup\)</span> s | r<span class="math notranslate nohighlight">\(\in\)</span>R <span class="math notranslate nohighlight">\(\wedge\)</span> s<span class="math notranslate nohighlight">\(\in\)</span>S <span class="math notranslate nohighlight">\(\wedge\)</span> r[A1]=s[A1] <span class="math notranslate nohighlight">\(\wedge\)</span> … <span class="math notranslate nohighlight">\(\wedge\)</span> r[Ak]=s[Ak] }<br>
Achtung: Bei der Verinigung von r und s handelt es sich also um Tupelwerte und nicht um Relationen!<br></p></li>
</ul>
<p>Eine alternative, üblichere Definition ist eine Selektion auf dem Kreuzprodukt der Relationen R und S. Die Selektion hat dabei als Bedingung, dass die Werte gleicher Spalten, übereinstimmen.
Dabei muss noch projiziert und umbenannt werden, um die Vereinigung richtig zu erwirken.</p>
<ul class="simple">
<li><p>R ⋈ S = s r[A1]=s[A1] <span class="math notranslate nohighlight">\(\wedge\)</span> … <span class="math notranslate nohighlight">\(\wedge\)</span> r[Ak]=s[Ak](R × S)</p></li>
</ul>
</section>
<section id="naturlicher-join-beispiele">
<h3><span class="section-number">8.17.2. </span>Natürlicher Join – Beispiele<a class="headerlink" href="#naturlicher-join-beispiele" title="Permalink to this headline">#</a></h3>
<p>Die ursprünglichen Tabellen sind R und S. Auf diesen beiden wird ein natürlicher Join ausgeführt. Dabei wird nur auf gleichen Attributen gejoint. In diesem Fall ist es das Attribut B. R und S stimmen in B in den Werten 2 und 4 überein. Das übrig gebliebene Tupel mit der 9 in B, muss somit nicht mehr kombiniert werden. <br>
<br></p>
<p><span class="math notranslate nohighlight">\(R\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
<th class="head"><p>D</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>10</p></td>
<td><p>11</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(R ⋈ S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
<th class="head"><p>D</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
</tr>
</tbody>
</table>
<p>Zur Erinnerung ist hier das kartesische Produkt der Relationen R und S dargestellt. Hierauf könnte man die alternative bzw. üblichere Definition des natürlichen Joins anwenden. Man würde wieder die gleichen zwei Tupel nach der Selektion erhalten. Zusätzlich müsste man noch R.B oder S.B wegprojizieren.</p>
<p><span class="math notranslate nohighlight">\(R \times S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>R.B</p></th>
<th class="head"><p>S.B</p></th>
<th class="head"><p>C</p></th>
<th class="head"><p>D</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>9</p></td>
<td><p>10</p></td>
<td><p>11</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
<td><p>2</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>4</p></td>
<td><p>4</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
<td><p>9</p></td>
<td><p>10</p></td>
<td><p>11</p></td>
</tr>
</tbody>
</table>
<p>Bei dem zweiten Beispiel gibt es mehr als ein gemeinsames Attribut. Es stimmen in R und S die zwei Attribute B und C überein. B und C müssen somit gleichzeitig bei jedem Join übereinstimmen. <br>Obwohl der Wert von B (2) im ersten Tupel beider Relationen übereinstimmt, können diese nicht gejoint werden. Der Grund dafür sind unterschiedliche Werte (3 != 5) im Attribut C. <br>
Das erste Tupel aus R und das zweite Tupel aus S haben wiederum in B und C die gleichen Werte und können somit gejoint werden. Genauso haben das zweite und dritte Tupel von R die gleichen Werte in B und C wie das dritte Tupel von S. Das dritte Tupel in S wird also mit mehr als einem Partner verknüpft.</p>
<p><span class="math notranslate nohighlight">\(R\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
<th class="head"><p>D</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>3</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>8</p></td>
<td><p>10</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(R ⋈ S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
<th class="head"><p>D</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
<td><p>10</p></td>
</tr>
</tbody>
</table>
</section>
<section id="theta-join-theta-join-theta">
<h3><span class="section-number">8.17.3. </span>Theta-Join (theta-join, <span class="math notranslate nohighlight">\(⋈_\theta\)</span>)<a class="headerlink" href="#theta-join-theta-join-theta" title="Permalink to this headline">#</a></h3>
<p>Der Theta Join ist die Allgemeinste Form der Joins. Der natürliche Join ist also ein Spezialfall vom Theta-Join.
Die Verknüpfungsbedingung kann selbst gestaltet werden. Zuvor war die Bedingung, dass die Attribute auf denen gejoint wird, gleich sind.<br>
Das Ergebnis wird ähnlich wie zuvor konstruiert. Zunächst wird ein Kreuzprodukt der beiden Relationen gebildet. Selektiert wird darauf mittels der gegebenen Joinbedingung <span class="math notranslate nohighlight">\(\theta\)</span>. Dabei ist A ein Attribut in R und B ein Attribut in S.</p>
<ul class="simple">
<li><p>R ⋈<span class="math notranslate nohighlight">\(A_\theta\)</span> B S = s <span class="math notranslate nohighlight">\(A_\theta\)</span> B (R <span class="math notranslate nohighlight">\(\times\)</span> S)</p></li>
<li><p><span class="math notranslate nohighlight">\(\theta\)</span> ∈ {=, &lt;, &gt;, ≤, ≥, ≠}</p></li>
</ul>
<p>Das Schema der Ergebnisrelation eines Theta-Joins sieht wie das Schema vom Kreuzprodukt aus. Wenn die Joinbedingung der Operator „=“ ist, handelt es sich um einen Equi-Join. Dieser ist somit, wie auch der Natural-Join, ein Spezialfall des Theta-Joins. Der Unterschied zum Natural Join ist aber, dass das Schema des Ergebnisses anders aussieht als beim Equi-Join. Gleiche Attribute werden umbenannt und sozusagen zu einem Attribut zusammengefasst.</p>
<ul class="simple">
<li><p>R(A,B,C) ⋈ S(B,C,D) <br>
= <span class="math notranslate nohighlight">\(\rho_{T(A,B,C,D)}\)</span>(<span class="math notranslate nohighlight">\(\pi_{A,R.B,R.C,D}\)</span>(<span class="math notranslate nohighlight">\(\sigma_{(R.B=S.B AND R.C = S.C)}\)</span> (<span class="math notranslate nohighlight">\(R \times S\)</span>)))</p></li>
</ul>
</section>
<section id="theta-join-beispiel">
<h3><span class="section-number">8.17.4. </span>Theta-Join – Beispiel<a class="headerlink" href="#theta-join-beispiel" title="Permalink to this headline">#</a></h3>
<p>Im ersten Beispiel sollen R und S gejoint werden, wenn der Wert vom Attribut A kleiner als der von D ist. Zunächst wird das erste Tupel von R mit allen Tupeln von S verglichen. In jedem Fall stimmt die Bedingung und die Tupel können verbunden werden. Analog werden die weiteren Tupel von R mit denen von S verglichen und gegebenenfalls verbunden.</p>
<p><span class="math notranslate nohighlight">\(R\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
<th class="head"><p>D</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>3</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>8</p></td>
<td><p>10</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(R ⋈_{A&lt;D}S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>R.B</p></th>
<th class="head"><p>R.C</p></th>
<th class="head"><p>S.B</p></th>
<th class="head"><p>S.C</p></th>
<th class="head"><p>D</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
<td><p>10</p></td>
</tr>
</tbody>
</table>
<p>Im zweitem Beispiel wird die Bedingung erweitert. R.B und S.B dürfen nicht mehr gleich sein. Wie zuvor wird jede Zeile von R mit jeder Zeile von S verglichen und geprüft, ob die Bedingung stimmt. Falls ja werden die Tupel miteinander verknüpft. Generell können Bedingungen beliebig lang werden.</p>
<p><span class="math notranslate nohighlight">\(R ⋈_{A&lt;D \wedge R.B \neq S.B}S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>R.B</p></th>
<th class="head"><p>R.C</p></th>
<th class="head"><p>S.B</p></th>
<th class="head"><p>S.C</p></th>
<th class="head"><p>D</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
<td><p>10</p></td>
</tr>
</tbody>
</table>
</section>
<section id="komplexe-ausdrucke">
<h3><span class="section-number">8.17.5. </span>Komplexe Ausdrücke<a class="headerlink" href="#komplexe-ausdrucke" title="Permalink to this headline">#</a></h3>
<p>■ Idee: Kombination (Schachtelung) von Ausdrücken zur Formulierung komplexer Anfragen.
<br>
□ Abgeschlossenheit der relationalen Algebra
<br>
– Output eines Ausdrucks ist immer eine Relation.
<br><br>
□ Darstellung
<br>
– Als geschachtelter Ausdruck mittels Klammerung
<br>
– Als Baum</p>
<p>Film</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Titel</p></th>
<th class="head"><p>Jahr</p></th>
<th class="head"><p>Länge</p></th>
<th class="head"><p>Typ</p></th>
<th class="head"><p>StudioName</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Total Recall</p></td>
<td><p>1990</p></td>
<td><p>113</p></td>
<td><p>Farbe</p></td>
<td><p>Fox</p></td>
</tr>
<tr class="row-odd"><td><p>Basic Instinct</p></td>
<td><p>1992</p></td>
<td><p>127</p></td>
<td><p>Farbe</p></td>
<td><p>Disney</p></td>
</tr>
<tr class="row-even"><td><p>Dead Man</p></td>
<td><p>1995</p></td>
<td><p>90</p></td>
<td><p>s/w</p></td>
<td><p>Paramount</p></td>
</tr>
</tbody>
</table>
<p>■ Gesucht: Titel und Jahr von Filmen, die von Fox produziert wurden und mindestens 100
Minuten lang sind.
<br>
□ Suche alle Filme von Fox
<br>
□ Suche alle Filme mit mindestens 100 Minuten
<br>
□ Bilde die Schnittmenge der beiden Zwischenergebnisse
<br>
□ Projiziere die Relation auf die Attribute Titel und Jahr.
<br>
□ <span class="math notranslate nohighlight">\(\rho_{Titel,Jahr}\)</span>(<span class="math notranslate nohighlight">\(\sigma_{Länge≥100}\)</span>(Film) <span class="math notranslate nohighlight">\(\cap\)</span> <span class="math notranslate nohighlight">\(\sigma_{StudioName=‚Fox‘}\)</span>(Film))
<br>
□ Alternative: <span class="math notranslate nohighlight">\(\pi_{Titel,Jahr}\)</span>(<span class="math notranslate nohighlight">\(\sigma_{Länge≥100 AND StudioName=‚Fox‘}\)</span>(Film))
<br>
– U.v.a.m.</p>
</section>
<section id="komplexe-ausdrucke-beispiel">
<h3><span class="section-number">8.17.6. </span>Komplexe Ausdrücke – Beispiel<a class="headerlink" href="#komplexe-ausdrucke-beispiel" title="Permalink to this headline">#</a></h3>
<p>■<span class="math notranslate nohighlight">\(\rho_{Titel,Jahr}\)</span>(<span class="math notranslate nohighlight">\(\sigma_{Länge≥100(Film)}\)</span> <span class="math notranslate nohighlight">\(\cap\)</span> <span class="math notranslate nohighlight">\(\sigma_{StudioName=‚Fox‘}\)</span>(Film))</p>
<p><img alt="title" src="../_images/komplex_bsp1.jpg" /></p>
<p>■ Alternative: <span class="math notranslate nohighlight">\(\rho_{Titel,Jahr}\)</span>(<span class="math notranslate nohighlight">\(\sigma_{Länge≥100 AND StudioName=‚Fox‘}\)</span>(Film))</p>
</section>
<section id="id3">
<h3><span class="section-number">8.17.7. </span>Komplexe Ausdrücke – Beispiel<a class="headerlink" href="#id3" title="Permalink to this headline">#</a></h3>
<p>Film</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Titel</p></th>
<th class="head"><p>Jahr</p></th>
<th class="head"><p>Länge</p></th>
<th class="head"><p>Typ</p></th>
<th class="head"><p>StudioName</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Total Recall</p></td>
<td><p>1990</p></td>
<td><p>113</p></td>
<td><p>Farbe</p></td>
<td><p>Fox</p></td>
</tr>
<tr class="row-odd"><td><p>Basic Instinct</p></td>
<td><p>1992</p></td>
<td><p>127</p></td>
<td><p>Farbe</p></td>
<td><p>Disney</p></td>
</tr>
<tr class="row-even"><td><p>Dead Man</p></td>
<td><p>1995</p></td>
<td><p>90</p></td>
<td><p>s/w</p></td>
<td><p>Paramount</p></td>
</tr>
</tbody>
</table>
<p>Rolle</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Titel</p></th>
<th class="head"><p>Jahr</p></th>
<th class="head"><p>SchauspName</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Total Recall</p></td>
<td><p>1990</p></td>
<td><p>Sharon Stone</p></td>
</tr>
<tr class="row-odd"><td><p>Basic Instinct</p></td>
<td><p>1992</p></td>
<td><p>Sharon Stone</p></td>
</tr>
<tr class="row-even"><td><p>Total Recall</p></td>
<td><p>1990</p></td>
<td><p>Arnold</p></td>
</tr>
<tr class="row-odd"><td><p>Dead Man</p></td>
<td><p>1995</p></td>
<td><p>Johnny Depp</p></td>
</tr>
</tbody>
</table>
<p>■ Gesucht: Namen aller Schauspieler, die in Filmen spielten, die mindestens 100 Minuten lang
sind.
<br>
□ Verjoine beide Relationen (natürlicher Join)
<br>
□ Selektiere Filme, die mindestens 100 Minuten lang sind.
<br>
□ <span class="math notranslate nohighlight">\(\rho_{SchauspName}\)</span>(<span class="math notranslate nohighlight">\(\sigma_{Länge≥100}\)</span>(Film ⋈ Rolle))</p>
<p>■ Stud(Matrikel, Name, Semester)
<br>
■ Prof(ProfName, Fachgebiet, GebJahr)
<br>
■ VL(VL_ID, Titel, Saal)
<br>
■ Lehrt(ProfName, VL_ID)
<br>
■ Hört(Matrikel,VL_ID)
<br>
■ Gesucht: Unterschiedliche Semester aller Studierenden, die eine Vorlesung eines Professors des Jahrgangs 1960
in Hörsaal 1 hören.
<br>
■ <span class="math notranslate nohighlight">\(\rho_{Sem}\)</span>(((<span class="math notranslate nohighlight">\(\sigma_{Saal=1}\)</span>(((<span class="math notranslate nohighlight">\(\sigma_{GebJahr = 1960}\)</span>(Professor))⋈Lehrt)⋈VL)⋈Hört)⋈Stud))</p>
</section>
<section id="umbenennung-rename-rho">
<h3><span class="section-number">8.17.8. </span>Umbenennung (rename, <span class="math notranslate nohighlight">\(\rho\)</span>)<a class="headerlink" href="#umbenennung-rename-rho" title="Permalink to this headline">#</a></h3>
<p>■ Unärer Operator
<br>
<br>
■ Motivation: Zur Kontrolle der Schemata und einfacheren Verknüpfungen
<br>
□ <span class="math notranslate nohighlight">\(\rho_{S(A1,…,An)}\)</span>®
<br>
– Benennt Relation R in S um
<br>
– Benennt die Attribute der neuen Relation A1,…,An
<br>
□ <span class="math notranslate nohighlight">\(\rho_{S(R)}\)</span> benennt nur Relation um.
<br>
■ Durch Umbenennung ermöglicht
<br>
□ Mengenoperationen
<br>
– Nur möglich bei gleichen Schemata
<br>
□ Joins, wo bisher kartesische Produkte ausgeführt wurde
<br>
– Unterschiedliche Attribute werden gleich benannt.
<br>
□ Kartesische Produkte, wo bisher Joins ausgeführt wurden
<br>
– Gleiche Attribute werden unterschiedlich genannt.</p>
</section>
<section id="umbenennung-beispiel">
<h3><span class="section-number">8.17.9. </span>Umbenennung – Beispiel<a class="headerlink" href="#umbenennung-beispiel" title="Permalink to this headline">#</a></h3>
<p><span class="math notranslate nohighlight">\(R\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
<th class="head"><p>D</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>10</p></td>
<td><p>11</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(R \times \rho_{s(X,C,D)}(S)\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>X</p></th>
<th class="head"><p>C</p></th>
<th class="head"><p>D</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>9</p></td>
<td><p>10</p></td>
<td><p>11</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
<td><p>2</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>4</p></td>
<td><p>4</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
<td><p>9</p></td>
<td><p>10</p></td>
<td><p>11</p></td>
</tr>
</tbody>
</table>
<p>■ Alternativer Ausdruck: <span class="math notranslate nohighlight">\(\rho_{S(A,B,X,C,D)}\)</span>(R <span class="math notranslate nohighlight">\(\times\)</span> S)</p>
</section>
<section id="unabhangigkeit-und-vollstandigkeit">
<h3><span class="section-number">8.17.10. </span>Unabhängigkeit und Vollständigkeit<a class="headerlink" href="#unabhangigkeit-und-vollstandigkeit" title="Permalink to this headline">#</a></h3>
<p>Minimale Relationenalgebra:
<br>
□ π, σ, <span class="math notranslate nohighlight">\(\times\)</span> , −, ∪ (und r)
<br>
■ Unabhängig:
<br>
□ Kein Operator kann weggelassen werden ohne Vollständigkeit zu verlieren.
<br> <br>
■ Natural Join, Join und Schnittmenge sind redundant
<br>
□ R <span class="math notranslate nohighlight">\(\cap\)</span> S = R − (R − S)
<br>
□ R ⋈C S = <span class="math notranslate nohighlight">\(\sigma_C\)</span>(R <span class="math notranslate nohighlight">\(\times\)</span> S)
<br>
□ R ⋈ S = <span class="math notranslate nohighlight">\(\pi_{L}\)</span>(<span class="math notranslate nohighlight">\(\sigma_{R.A1=S.A1 AND … AND R.An=S.An}\)</span>(R <span class="math notranslate nohighlight">\(\times\)</span> S))</p>
</section>
</section>
<section id="vorschau-zu-optimierung">
<h2><span class="section-number">8.18. </span>Vorschau zu Optimierung<a class="headerlink" href="#vorschau-zu-optimierung" title="Permalink to this headline">#</a></h2>
<p>■ Beispiele für algebraische Regeln zur Transformation
<br>
□ R ⋈ S = S ⋈ R
<br>
□ (R ⋈ S) ⋈ T = R ⋈ (S ⋈ T)
<br>
□ <span class="math notranslate nohighlight">\(\rho_{Y}(\rho_{X}(R)) = \rho_{Y}(R)\)</span>
<br>
– Falls Y ⊆ X
<br>
□ <span class="math notranslate nohighlight">\(\sigma_{A=a}(\sigma_{B=b}(R))= \sigma_{B=b}(\sigma_{A=a}(R)) [ = \sigma_{B=b\wedge A=a}(R) ]\)</span>
<br>
□ <span class="math notranslate nohighlight">\(\pi_{X}(\sigma_{A=a}(R)) = \sigma_{A=a}(\pi_{X}(R))\)</span>
<br>
– Falls A ⊆ X
<br>
□ <span class="math notranslate nohighlight">\(\sigma_{A=a}(R ∪ S) = \sigma_{A=a}(R) ∪ \sigma_{A=a}(S)\)</span>
<br>
■ Jeweils: Welche Seite ist besser?</p>
</section>
<section id="operatoren-auf-multimengen">
<h2><span class="section-number">8.19. </span>Operatoren auf Multimengen<a class="headerlink" href="#operatoren-auf-multimengen" title="Permalink to this headline">#</a></h2>
<section id="motivation">
<h3><span class="section-number">8.19.1. </span>Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">#</a></h3>
<p>Mengen sind ein natürliches Konstrukt
<br>
□ Keine Duplikate
<br> <br>
■ Kommerzielle DBMS basieren fast nie nur auf Mengen
<br>
□ Sondern erlauben Multimengen
<br>
□ D.h. Duplikate sind erlaubt
<br> <br>
■ Multimenge
<br>
□ bag, multiset</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<p>Multimenge
<br>
Reihenfolge ist weiter unwichtig</p>
</section>
<section id="effizienz-durch-multimengen">
<h3><span class="section-number">8.19.2. </span>Effizienz durch Multimengen<a class="headerlink" href="#effizienz-durch-multimengen" title="Permalink to this headline">#</a></h3>
<p>■ Bei Vereinigung
<br>
□ Direkt „aneinanderhängen“
<br><br>
■ Bei Projektion
<br>
□ Einfach Attributwerte „abschneiden“
<br><br>
■ Nach Duplikaten suchen
<br>
□ Jedes Tupel im Ergebnis mit jedem anderen vergleichen
<br>
□ O(n²)
<br><br>
■ Effizienter nach Duplikaten suchen
<br>
□ Nach allen Attributen zugleich sortieren: O(n log n)
<br><br>
■ Bei Aggregation
<br>
□ Duplikateliminierung sogar schädlich bzw. unintuitiv
<br>
□ AVG(A) = ?</p>
<p>Projektion auf (A,B)</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>7</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>8</p></td>
</tr>
</tbody>
</table>
</section>
<section id="vereinigung-auf-multimengen">
<h3><span class="section-number">8.19.3. </span>Vereinigung auf Multimengen<a class="headerlink" href="#vereinigung-auf-multimengen" title="Permalink to this headline">#</a></h3>
<p>Sei R eine Multimenge
<br>
□ Tupel t erscheine n-mal in R.
<br> <br>
■ Sei S eine Multimenge
<br>
□ Tupel t erscheine m-mal in S.
<br>
■ Tupel t erscheint in R <span class="math notranslate nohighlight">\(\cup\)</span> S
<br>
□ (n+m) mal.</p>
<p><span class="math notranslate nohighlight">\(R\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>6</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(R \cup S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>6</p></td>
</tr>
</tbody>
</table>
</section>
<section id="schnittmenge-auf-multimengen">
<h3><span class="section-number">8.19.4. </span>Schnittmenge auf Multimengen<a class="headerlink" href="#schnittmenge-auf-multimengen" title="Permalink to this headline">#</a></h3>
<p>■ Sei R eine Multimenge
<br>
□ Tupel t erscheine n-mal in R.
<br><br>
■ Sei S eine Multimenge
<br>
□ Tupel t erscheine m-mal in S.
<br><br>
■ Tupel t erscheint in R <span class="math notranslate nohighlight">\(\cap\)</span> S
<br>
□ min(n,m) mal.</p>
<p><span class="math notranslate nohighlight">\(R\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>6</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(R \cap S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="differenz-auf-multimengen">
<h2><span class="section-number">8.20. </span>Differenz auf Multimengen<a class="headerlink" href="#differenz-auf-multimengen" title="Permalink to this headline">#</a></h2>
<p>■ Sei R eine Multimenge
<br>
□ Tupel t erscheine n-mal in R.
<br><br>
■ Sei S eine Multimenge
<br>
□ Tupel t erscheine m-mal in S.
<br><br>
■ Tupel t erscheint in R − S
<br>
□ max(0, n−m) mal.
<br>
□ Falls t öfter in R als in S vorkommt, bleiben n−m t übrig.
<br>
□ Falls t öfter in S als in R vorkommt, bleibt kein t übrig.
<br>
□ Jedes Vorkommen von t in S eliminiert ein t in R.</p>
<p><span class="math notranslate nohighlight">\(R\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>6</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(R-S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(S-R\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>6</p></td>
</tr>
</tbody>
</table>
<section id="projektion-und-selektion-auf-multimengen">
<h3><span class="section-number">8.20.1. </span>Projektion und Selektion auf Multimengen<a class="headerlink" href="#projektion-und-selektion-auf-multimengen" title="Permalink to this headline">#</a></h3>
<p>■ Projektion
<br>
□ Bei der Projektion können neue Duplikate entstehen.
<br>
□ Diese werden nicht entfernt
<br><br>
■ Selektion
<br>
□ Selektionsbedingung auf jedes Tupel einzeln und unabhängig anwenden
<br>
□ Schon vorhandene Duplikate bleiben erhalten
<br>
– Sofern sie beide selektiert bleiben</p>
<p><span class="math notranslate nohighlight">\(R\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>7</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>7</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(\pi_{A,B}(R)\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(\sigma_{C\geq6}(R)\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>7</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>7</p></td>
</tr>
</tbody>
</table>
</section>
<section id="kreuzprodukt-auf-multimengen">
<h3><span class="section-number">8.20.2. </span>Kreuzprodukt auf Multimengen<a class="headerlink" href="#kreuzprodukt-auf-multimengen" title="Permalink to this headline">#</a></h3>
<p>Sei R eine Multimenge
<br>
□ Tupel t erscheine n-mal in R.
<br>
■ Sei S eine Multimenge
<br>
□ Tupel u erscheine m-mal in S.
<br>
■ Das Tupel tu erscheint in R <span class="math notranslate nohighlight">\(\times\)</span> S n·m-mal.</p>
<p><span class="math notranslate nohighlight">\(R\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>5</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(R \times S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>R.B</p></th>
<th class="head"><p>S.B</p></th>
<th class="head"><p>C</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
<td><p>5</p></td>
</tr>
</tbody>
</table>
</section>
<section id="joins-auf-multimengen">
<h3><span class="section-number">8.20.3. </span>Joins auf Multimengen<a class="headerlink" href="#joins-auf-multimengen" title="Permalink to this headline">#</a></h3>
<p>■ Keine Überraschungen</p>
<p><span class="math notranslate nohighlight">\(R\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>5</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(R⋈S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(R⋈_{R.B&lt;S.B}S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>R.B</p></th>
<th class="head"><p>S.B</p></th>
<th class="head"><p>C</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
<td><p>5</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="erweiterte-operatoren">
<h2><span class="section-number">8.21. </span>Erweiterte Operatoren<a class="headerlink" href="#erweiterte-operatoren" title="Permalink to this headline">#</a></h2>
</section>
<section id="uberblick-uber-erweiterungen">
<h2><span class="section-number">8.22. </span>Überblick über Erweiterungen<a class="headerlink" href="#uberblick-uber-erweiterungen" title="Permalink to this headline">#</a></h2>
<p>Duplikateliminierung
<br>
■ Aggregation
<br>
■ Gruppierung
<br>
■ Sortierung
<br>
■ Outer Join
<br>
■ Outer Union
<br>
■ Semijoin
<br>
■ (Division)</p>
<section id="duplikateliminierung-duplicate-elimination-delta">
<h3><span class="section-number">8.22.1. </span>Duplikateliminierung (duplicate elimination, <span class="math notranslate nohighlight">\(\delta\)</span>)<a class="headerlink" href="#duplikateliminierung-duplicate-elimination-delta" title="Permalink to this headline">#</a></h3>
<p>■ Wandelt eine Multimenge in eine Menge um.
<br>
□ Durch Löschen aller Kopien von Tupeln
<br>
□ <span class="math notranslate nohighlight">\(\delta\)</span>®
<br>
– Strenggenommen unnötig: Mengensemantik der relationalen Algebra</p>
<p><span class="math notranslate nohighlight">\(R\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>a</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
<td><p>b</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>c</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>d</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(\delta(\pi_{A,B}(R))\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
</tbody>
</table>
</section>
<section id="aggregation">
<h3><span class="section-number">8.22.2. </span>Aggregation<a class="headerlink" href="#aggregation" title="Permalink to this headline">#</a></h3>
<p>■ Aggregation fasst Werte einer Spalte zusammen.
<br>
□ Operation auf einer Menge oder Multimenge atomarer Werte (nicht Tupel)
<br>
□ Null-Werte gehen idR nicht mit ein
<br>
□ Summe (SUM)
<br>
□ Durchschnitt (AVG)
<br>
– Auch: STDDEV und VARIANCE
<br>
□ Minimum (MIN) und Maximum (MAX)
<br>
– Lexikographisch für nicht-numerische Werte
<br>
□ Anzahl (COUNT)
<br>
– Doppelte Werte gehen auch doppelt ein.
<br>
– Angewandt auf ein beliebiges Attribut ergibt dies die Anzahl der Tupel in der Relation.
<br>
– Zeilen mit NULL-Werten werden idR mitgezählt.</p>
<p><span class="math notranslate nohighlight">\(R\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<p>SUM(B) = 10
<br>
AVG(A) = 1,5
<br>
MIN(A) = 1
<br>
MAX(B) = 4
<br>
COUNT(A) = 4
<br>
COUNT(B) = 4</p>
</section>
<section id="aggregation-beispiele">
<h3><span class="section-number">8.22.3. </span>Aggregation – Beispiele<a class="headerlink" href="#aggregation-beispiele" title="Permalink to this headline">#</a></h3>
<p>Film</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Titel</p></th>
<th class="head"><p>Jahr</p></th>
<th class="head"><p>Länge</p></th>
<th class="head"><p>Typ</p></th>
<th class="head"><p>StudioName</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Total Recall</p></td>
<td><p>1990</p></td>
<td><p>113</p></td>
<td><p>Farbe</p></td>
<td><p>Fox</p></td>
</tr>
<tr class="row-odd"><td><p>Basic Instinct</p></td>
<td><p>1992</p></td>
<td><p>127</p></td>
<td><p>Farbe</p></td>
<td><p>Disney</p></td>
</tr>
<tr class="row-even"><td><p>Dead Man</p></td>
<td><p>1995</p></td>
<td><p>90</p></td>
<td><p>s/w</p></td>
<td><p>Paramount</p></td>
</tr>
</tbody>
</table>
<p>■ MAX(Jahr): Jüngster Film
<br>
■ MIN(Länge): Kürzester Film
<br>
■ SUM(Länge): Summe der Filmminuten
<br>
■ AVG(Länge): Durchschnittliche Filmlänge
<br>
■ MIN(Titel): Alphabetisch erster Film
<br>
■ COUNT(Titel): Anzahl Filme
<br>
■ COUNT(StudioName): Anzahl Filme
<br>
■ AVG(SchauspName): syntax error</p>
</section>
<section id="gruppierung">
<h3><span class="section-number">8.22.4. </span>Gruppierung<a class="headerlink" href="#gruppierung" title="Permalink to this headline">#</a></h3>
<p>■ Partitionierung der Tupel einer Relation gemäß ihrer Werte in einem oder mehr Attributen.
<br>
□ Hauptzweck: Aggregation auf Teilen einer Relation (Gruppen)
<br>
□ Gegeben
<br>
– Film(Titel, Jahr, Länge, inFarbe, StudioName, ProduzentID)
<br>
□ Gesucht: Gesamtminuten pro Studio
<br>
– Gesamtminuten(StudioName, SummeMinuten)
<br>
□ Verfahren:
<br>
– Gruppiere nach StudioName
<br>
– Summiere in jeder Gruppe die Länge der Filme
<br>
– Gebe Paare (Studioname, Summe) aus.</p>
</section>
<section id="gruppierung-group-gamma">
<h3><span class="section-number">8.22.5. </span>Gruppierung (group, <span class="math notranslate nohighlight">\(\gamma\)</span>)<a class="headerlink" href="#gruppierung-group-gamma" title="Permalink to this headline">#</a></h3>
<p>■ <span class="math notranslate nohighlight">\(\gamma_L\)</span>® wobei L eine Menge von Attributen ist. Ein Element in L ist entweder
<br></p>
<ol class="simple">
<li><p>Ein Gruppierungsattribut nach dem gruppiert wird
<br></p></li>
<li><p>Oder ein Aggregationsoperator auf ein Attribut von R (inkl. Neuen Namen für das aggregierte Attribut)
<br>
■ Ergebnis wird wie folgt konstruiert:
<br>
□ Partitioniere R in Gruppen, wobei jede Gruppe gleiche Werte im Gruppierungsattribut hat
<br>
– Falls kein Gruppierungsattribut angegeben: Ganz R ist die Gruppe
<br>
□ Für jede Gruppe erzeuge ein Tupel mit
<br>
– Wert der Gruppierungsattribute
<br>
– Aggregierte Werte über alle Tupel der Gruppe</p></li>
</ol>
</section>
<section id="gruppierung-beispiele">
<h3><span class="section-number">8.22.6. </span>Gruppierung – Beispiele<a class="headerlink" href="#gruppierung-beispiele" title="Permalink to this headline">#</a></h3>
<p>Film</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Titel</p></th>
<th class="head"><p>Jahr</p></th>
<th class="head"><p>Länge</p></th>
<th class="head"><p>Typ</p></th>
<th class="head"><p>StudioName</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Total Recall</p></td>
<td><p>1990</p></td>
<td><p>113</p></td>
<td><p>Farbe</p></td>
<td><p>Fox</p></td>
</tr>
<tr class="row-odd"><td><p>Basic Instinct</p></td>
<td><p>1992</p></td>
<td><p>127</p></td>
<td><p>Farbe</p></td>
<td><p>Disney</p></td>
</tr>
<tr class="row-even"><td><p>Dead Man</p></td>
<td><p>1995</p></td>
<td><p>90</p></td>
<td><p>s/w</p></td>
<td><p>Paramount</p></td>
</tr>
</tbody>
</table>
<p>■ Durchschnittliche Filmlänge pro Studio
<br>
□ <span class="math notranslate nohighlight">\(\gamma_{Studio, AVG(Länge)→Durchschnittslänge}\)</span>(Film)
<br><br>
■ Anzahl der Filme pro Schauspieler
<br>
□ <span class="math notranslate nohighlight">\(\gamma_{SchauspName, Count(Titel)→Filmanzahl}\)</span>(Film)
<br><br>
■ Durchschnittliche Anzahl der Filme pro Schauspieler
<br>
□ <span class="math notranslate nohighlight">\(\gamma_{AVG(Filmanzahl)}(\gamma_{SchauspName, Count(Titel)→Filmanzahl}\)</span>(Film))
<br><br>
■ Zu Hause:
<br>
□ Anzahl Schauspieler pro Film
<br>
□ Durchschnittliche Anzahl der Schauspieler pro Film
<br>
□ Studiogründung: Kleinstes Jahr pro Studio
<br>
<br>
<br>
■ Gegeben: SpieltIn(Titel, Jahr, SchauspName)
<br>
■ Gesucht: Für jeden Schauspieler, der in mindestens 3 Filmen spielte, das Jahr des ersten Filmes.
<br>
■ Idee
<br>
□ Gruppierung nach SchauspName
<br>
□ Bilde
<br>
– Minimum vom Jahr
<br>
– Count von Titeln
<br>
□ Selektion nach Anzahl der Filme
<br>
□ Projektion auf Schauspielername und Jahr
<br>
■ <span class="math notranslate nohighlight">\(\pi_{SchauspName, MinJahr}(\sigma_{AnzahlTitel≥3}(\gamma_{SchauspName, MIN(Jahr)→MinJahr, COUNT(Titel)→AnzahlTitel}(SpieltIn)))\)</span>
<br>
<br>
<br>
■ Gegeben: SpieltIn(Titel, Jahr, SchauspName)
■ Gesucht: Für jeden Schauspieler, der in mindestens 3 Filmen spielte, das Jahr des ersten Filmes und den Titel
dieses Films.
□ Genauer: Ein Titel des Schauspielers in dem Jahr
■ Idee
□ Wie zuvor
□ Anschließend Self-Join um Filmtitel zu bekommen.
□ Anschließend Gruppierung nach SchauspName um Gruppe auf einen Film zu reduzieren.
■ <span class="math notranslate nohighlight">\(\gamma_{SchauspName, MIN(MinJahr)→MinJahr, MIN(Titel)→Titel}( (SpieltIn) ⋈_{SchauspName = SchauspName, MinJahr = Jahr}
(\pi_{SchauspName, MinJahr}(\sigma_{AnzahlTitel≥3}(
\gamma_{SchauspName, MIN(Jahr)→MinJahr, COUNT(Titel)→AnzahlTitel}(SpieltIn)
) ) )
)\)</span></p>
</section>
<section id="komplexe-ausdrucke-beispiele">
<h3><span class="section-number">8.22.7. </span>Komplexe Ausdrücke – Beispiele<a class="headerlink" href="#komplexe-ausdrucke-beispiele" title="Permalink to this headline">#</a></h3>
<br>
<br>
■ Stud(Matrikel, Name, Semester)
<br>
■ Prof(ProfName, Fachgebiet, GebJahr)
<br>
■ VL(VL_ID, Titel, Saal)
<br>
■ Lehrt(ProfName, VL_ID)
<br>
■ Hört(Matrikel,VL_ID)
<br>
■ Gesucht: Fachgebiete von Professoren, die VL geben, die weniger als drei Hörer haben.
<br>
■ $\gamma_{Fachgebiet}$( (Prof ⋈ Lehrt) ⋈
($\sigma_{ COUNT < 3(gVL_ID,COUNT(Matrikel)-> COUNT}$(Hört))
)
<br>
■ $\pi_{Fachgebiet}$( (Prof ⋈ Lehrt) ⋈
($\sigma_{ COUNT < 3(gVL_ID,COUNT(Matrikel)-> COUNT}$(Hört))
)</section>
<section id="sortierung-sort-tau">
<h3><span class="section-number">8.22.8. </span>Sortierung (sort, <span class="math notranslate nohighlight">\(\tau\)</span>)<a class="headerlink" href="#sortierung-sort-tau" title="Permalink to this headline">#</a></h3>
<br>
<br>
■ $\tau_L$(R) wobei L eine Attributliste aus R ist.
<br>
□ Falls L = (A1,A2,…,An) wird zuerst nach A1, bei gleichen A1 nach A2 usw. sortiert.
<br><br>
■ Wichtig: Ergebnis der Sortierung ist keine Menge, sondern eine Liste.
<br>
□ Deshalb: Sortierung ist letzter Operator eines Ausdrucks. Ansonsten würden wieder Mengen entstehen und
die Sortierung wäre verloren.
<br>
□ Trotzdem: In DBMS macht es manchmal auch Sinn zwischendurch zu sortieren.</section>
<section id="semi-join">
<h3><span class="section-number">8.22.9. </span>Semi-Join (⋊)<a class="headerlink" href="#semi-join" title="Permalink to this headline">#</a></h3>
<br>
<br>
■ Formal
<br>
□ R(A), S(B)
<br>
□ R ⋉ S : = $\pi_A$(R⋈S)
<br>
= $\pi_A$(R) ⋈$\pi_{A\cap B}$(S)
<br>
= R⋈$\pi_{A\cap B}$(S)
<br>
□ In Worten: Join über R und S, aber nur die Attribute von R sind interessant.
<br>
□ Definition analog für Theta-Join
<br>
■ Nicht kommutativ: R ⋉ S ≠ S ⋉ R</section>
<section id="id4">
<h3><span class="section-number">8.22.10. </span>Semi-Join<a class="headerlink" href="#id4" title="Permalink to this headline">#</a></h3>
<p><img alt="title" src="../_images/semijoin1.jpg" /></p>
<p><img alt="title" src="../_images/semijoin2.jpg" /></p>
<p><img alt="title" src="../_images/semijoin3.jpg" /></p>
</section>
<section id="outer-joins-auszere-verbunde">
<h3><span class="section-number">8.22.11. </span>Outer Joins (Äußere Verbünde, |⋈|)<a class="headerlink" href="#outer-joins-auszere-verbunde" title="Permalink to this headline">#</a></h3>
<br>
<br>
Übernahme von „dangling tuples“ in das Ergebnis und Auffüllen mit Nullwerten (padding)
<br>
Nullwert: $\perp$ bzw. null (≠ 0)
<br><br>
Full outer join
<br>
Übernimmt alle Tupel beider Operanden
R |⋈| S
<br><br>
Left outer join (right outer join)
<br>
Übernimmt alle Tupel des linken (rechten) Operanden
<br>
R |⋈ S (bzw. R ⋈| S)
<br><br>
Herkömmlicher Join auch „Inner join“
<br>
<br>
<br>
R⋈S
<br>
R |⋈ S
<br>
R ⋈| S
<br>
R |⋈| S<p><img alt="title" src="../_images/outerjoin1.jpg" /></p>
<p><img alt="title" src="../_images/outerjoin2.jpg" /></p>
</section>
<section id="outer-union">
<h3><span class="section-number">8.22.12. </span>Outer Union (⊎)<a class="headerlink" href="#outer-union" title="Permalink to this headline">#</a></h3>
<br>
<br>
■ Wie Vereinigung, aber auch mit inkompatiblen Schemata
<br>
□ Schema ist Vereinigung der Attributmengen
<br>
□ Fehlende Werte werden mit Nullwerten ergänzt<p><span class="math notranslate nohighlight">\(R\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
<th class="head"><p>D</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>3</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>8</p></td>
<td><p>10</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(R⊎S\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
<th class="head"><p>D</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p><span class="math notranslate nohighlight">\(\perp\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
<td><p><span class="math notranslate nohighlight">\(\perp\)</span></p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
<td><p><span class="math notranslate nohighlight">\(\perp\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\perp\)</span></p></td>
<td><p>2</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\perp\)</span></p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\perp\)</span></p></td>
<td><p>7</p></td>
<td><p>8</p></td>
<td><p>10</p></td>
</tr>
</tbody>
</table>
</section>
<section id="division-division">
<h3><span class="section-number">8.22.13. </span>Division (division, /)<a class="headerlink" href="#division-division" title="Permalink to this headline">#</a></h3>
<br>
<br>
■ Typischerweise nicht als primitiver Operator unterstützt.
<br>
■ Finde alle Segler, die alle Segelboote reserviert haben.
<br>
■ Relation R(x,y), Relation S(y)
<br>
□ R/S = { t $\in$ R(x) | $\forall$ y $\in$ S $\exists$ <x, y> $\in$ R}
<br>
□ R/S enthält alle x-Tupel (Segler), so dass es für jedes y-Tupel (Boot) in S ein xy-Tupel in R gibt.
<br>
□ Andersherum: Falls die Menge der y-Werte (Boote), die mit einem x-Wert (Segler) assoziiert sind, alle y-Werte
in S enthält, so ist der x-Wert in R/S.
<br>
■ Hole die Namen von Angestellten, die an allen Projekten arbeiten.
<br>
□ Sinnvoller: Hole die Namen von Angestellten, die an allen Projekten arbeiten, in denen auch „Thomas Müller“
arbeitet.</section>
<section id="division-beispiel">
<h3><span class="section-number">8.22.14. </span>Division – Beispiel<a class="headerlink" href="#division-beispiel" title="Permalink to this headline">#</a></h3>
<p><img alt="title" src="../_images/division1.jpg" /></p>
</section>
<section id="division-ausdrucken">
<h3><span class="section-number">8.22.15. </span>Division ausdrücken<a class="headerlink" href="#division-ausdrucken" title="Permalink to this headline">#</a></h3>
<br>
<br>
■ Division ist kein essentieller Operator, nur nützliche Abkürzung.
<br>
□ Ebenso wie Joins, aber Joins sind so üblich, dass Systeme sie speziell unterstützen.
<br><br>
■ Idee: Um R/S zu berechnen, berechne alle x-Werte, die nicht durch einen y-Wert in S „disqualifiziert“ werden.
<br>
– x-Wert ist disqualifiziert, falls man durch Anfügen eines y-Wertes ein xy-Tupel erhält, das nicht in R ist.
<br>
□ Disqualifizierte x-Werte: $\pi_{x}$ (($\pi_{x}$(R) $\times$ S) − R)
<br>
□ R/S: $\pi_{x}$(R) − alle disqualifizierten Tupel</section>
<section id="division">
<h3><span class="section-number">8.22.16. </span>Division<a class="headerlink" href="#division" title="Permalink to this headline">#</a></h3>
<p><img alt="title" src="../_images/division2.jpg" /></p>
</section>
</section>
<section id="multiple-choice">
<h2><span class="section-number">8.23. </span>Multiple Choice<a class="headerlink" href="#multiple-choice" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Die hier verwendete Version des Multiple-Choice-Trainers von EILD.nrw wird nur in das JupyterBook eingebunden und nicht selbst gehostet. Der Multiple-Choice-Trainer wird durch GitHub-Pages gehostet.</p></li>
<li><p>Alle Fragen und Kategorien befinden sich zurzeit in Überarbeitung und sind nicht final.</p></li>
</ul>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="100%"
    height="800"
    src="https://lejuliennn.github.io/mct-trainer/#/quiz/categories/relationalealgebra"
    frameborder="0"
    allowfullscreen

></iframe>
</div></div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "LUH-DBS/GDBS_Script",
            ref: "main/",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./08"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../07/normalisierung.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">7. </span>Normalisierung</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../09/sql.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">9. </span>SQL</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Prof. Dr. Ziawasch Abedjan<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>